{
  "version": 3,
  "sources": ["../src/nodeOps.ts", "../src/modules/patchAttr.ts", "../src/modules/patchClass.ts", "../src/modules/patchEvent.ts", "../src/modules/patchStyle.ts", "../src/patchProp.ts", "../../reactivity/src/effect.ts", "../../shared/src/index.ts", "../../reactivity/src/reactiveEffect.ts", "../../reactivity/src/baseHandler.ts", "../../reactivity/src/reactive.ts", "../../reactivity/src/ref.ts", "../../reactivity/src/computed.ts", "../../reactivity/src/watch.ts", "../../runtime-core/src/components/Teleport.ts", "../../runtime-core/src/components/Suspense.ts", "../../runtime-core/src/vnode.ts", "../../runtime-core/src/h.ts", "../../runtime-core/src/scheduler.ts", "../../runtime-core/src/utils/sequence.ts", "../../runtime-core/src/componentPublicInstance.ts", "../../runtime-core/src/componentProps.ts", "../../runtime-core/src/componentEmits.ts", "../../runtime-core/src/component.ts", "../../runtime-core/src/componentRenderUtils.ts", "../../runtime-core/src/componentSlots.ts", "../../runtime-core/src/components/KeepAlive.ts", "../../runtime-core/src/renderer.ts", "../../runtime-core/src/apiLifecycle.ts", "../../runtime-core/src/apiInject.ts", "../../runtime-core/src/helpers/renderSlot.ts", "../src/index.ts"],
  "sourcesContent": ["// \u5BF9\u8282\u70B9\u5143\u7D20\u7684\u589E\u5220\u6539\u67E5\r\nexport const nodeOps = {\r\n  // anchor \u662F\u951A\u70B9/\u53C2\u8003\u8282\u70B9\uFF0C\u7528\u4E8E\u6307\u5B9A\u65B0\u8282\u70B9\u63D2\u5165\u7684\u4F4D\u7F6E\uFF0C\u63D2\u5165\u5230 anchor \u524D\r\n  insert: (child, parent, anchor) => {\r\n    parent.insertBefore(child, anchor || null);\r\n  },\r\n\r\n  remove: (child) => {\r\n    const parent = child.parentNode;\r\n    if (parent) {\r\n      parent.removeChild(child);\r\n    }\r\n  },\r\n\r\n  createElement: (type) => {\r\n    return document.createElement(type);\r\n  },\r\n\r\n  createText: (text) => document.createTextNode(text),\r\n\r\n  createComment: (text) => document.createComment(text),\r\n\r\n  // \u4EC5\u5BF9\u6587\u672C\u8282\u70B9\u751F\u6548\uFF0CcreateText\r\n  setText: (node, text) => {\r\n    node.nodeValue = text;\r\n  },\r\n\r\n  // \u6E05\u7A7A\u6240\u6709\u5B50\u8282\u70B9\uFF0C\u8BBE\u4E3A\u7EAF\u6587\u672C\r\n  setElementText: (el, text) => {\r\n    el.textContent = text;\r\n  },\r\n\r\n  parentNode: (node) => node.parentNode,\r\n\r\n  nextSibling: (node) => node.nextSibling,\r\n\r\n  querySelector: (selector) => document.querySelector(selector),\r\n};\r\n", "export default function patchAttr(el, key, value) {\r\n  if (value === null) {\r\n    el.removeAttribute(key);\r\n  } else {\r\n    el.setAttribute(key, value);\r\n  }\r\n}\r\n", "export default function patchClass(el, value) {\r\n  if (value === null) {\r\n    el.removeAttribute(\"class\");\r\n  } else {\r\n    el.className = value;\r\n  }\r\n}\r\n", "export default function patchEvent(el, name, handler) {\r\n  // vue_event_invoker\r\n  const invokers = el._vei || (el._vei = {});\r\n  const eventName = name.slice(2).toLowerCase();\r\n\r\n  const existingInvoker = invokers[name];\r\n\r\n  // \u5148\u524D\u5B58\u5728\u5F53\u524D\u7C7B\u578B\u4E8B\u4EF6\uFF0C\u4E14\u73B0\u5728\u4E5F\u5B58\u5728\r\n  if (existingInvoker && handler) {\r\n    // \u4E8B\u4EF6\u6362\u7ED1\r\n    return (existingInvoker.handler = handler);\r\n  }\r\n\r\n  // \u5148\u524D\u4E0D\u5B58\u5728\u5F53\u524D\u7C7B\u578B\u4E8B\u4EF6\uFF0C\u4F46\u73B0\u5728\u5B58\u5728\r\n  if (handler) {\r\n    const invoker = (invokers[name] = createInvoker(handler));\r\n    return el.addEventListener(eventName, invoker);\r\n  }\r\n\r\n  // \u5148\u524D\u5B58\u5728\u5F53\u524D\u7C7B\u578B\u4E8B\u4EF6\uFF0C\u4F46\u73B0\u5728\u4E0D\u5B58\u5728\r\n  if (existingInvoker) {\r\n    el.removeEventListener(eventName, existingInvoker);\r\n    invokers[name] = undefined;\r\n  }\r\n}\r\n\r\nfunction createInvoker(handler) {\r\n  const invoker = (e) => invoker.handler(e);\r\n  invoker.handler = handler; // \u4FEE\u6539invoker\u7684handler\u5C5E\u6027\uFF0C\u53EF\u4EE5\u4FEE\u6539\u5BF9\u5E94\u7684\u8C03\u7528\u51FD\u6570\r\n  return invoker;\r\n}\r\n", "export default function patchStyle(el, prevValue, nextValue) {\r\n  const style = el.style;\r\n\r\n  // \u652F\u6301\u5B57\u7B26\u4E32\u5F62\u5F0F { style: \"background: #e3f2fd; padding: 10px;\" }\r\n  if (typeof nextValue === \"string\") {\r\n    style.cssText = nextValue;\r\n    return;\r\n  }\r\n\r\n  // \u5BF9\u8C61\u5F62\u5F0F \u6837\u5F0F\r\n  for (const key in nextValue) {\r\n    style[key] = nextValue[key];\r\n  }\r\n\r\n  // \u5904\u7406\u65E7\u503C\r\n  if (prevValue) {\r\n    for (const key in prevValue) {\r\n      if (nextValue && nextValue[key] === null) {\r\n        style[key] = null;\r\n      }\r\n    }\r\n  }\r\n}\r\n", "import patchAttr from \"./modules/patchAttr\";\r\nimport patchClass from \"./modules/patchClass\";\r\nimport patchEvent from \"./modules/patchEvent\";\r\nimport patchStyle from \"./modules/patchStyle\";\r\n\r\n// \u5BF9\u8282\u70B9\u5143\u7D20\u7684\u5C5E\u6027\u64CD\u4F5C\r\nexport default function patchProp(el, key, prevValue, nextValue) {\r\n  if (key === \"class\") {\r\n    return patchClass(el, nextValue);\r\n  } else if (key === \"style\") {\r\n    return patchStyle(el, prevValue, nextValue);\r\n  } else if (/^on[^a-z]/.test(key)) {\r\n    return patchEvent(el, key, nextValue);\r\n  } else {\r\n    patchAttr(el, key, nextValue);\r\n  }\r\n}\r\n", "import { DirtyLevels } from \"./constants\";\r\nimport type { Dep } from \"./reactiveEffect\";\r\n\r\nlet shouldTrack = true;\r\n\r\nexport function pauseTracking() {\r\n  shouldTrack = false;\r\n}\r\n\r\nexport function resetTracking() {\r\n  shouldTrack = true;\r\n}\r\n\r\nexport function effect(fn: Function, options?) {\r\n  const _effect = new ReactiveEffect(fn, () => {\r\n    _effect.run();\r\n  });\r\n  _effect.run();\r\n\r\n  // \u8C03\u5EA6\u6267\u884C\r\n  if (options) {\r\n    Object.assign(_effect, options);\r\n  }\r\n\r\n  const runner = _effect.run.bind(_effect);\r\n  runner.effect = _effect;\r\n\r\n  return runner;\r\n}\r\n\r\nexport let activeEffect = undefined;\r\n\r\nfunction preCleanEffect(effect: ReactiveEffect) {\r\n  effect._depsLength = 0;\r\n  effect._trackId++;\r\n}\r\n\r\nfunction postCleanEffect(effect: ReactiveEffect) {\r\n  // [flag, name, age, xxx, yyy]\r\n  // [flag]\r\n  if (effect.deps.length <= effect._depsLength) return;\r\n\r\n  for (let i = effect._depsLength; i < effect.deps.length; i++) {\r\n    cleanDepEffect(effect.deps[i], effect); // \u5220\u9664\u6620\u5C04\u8868\u4E2D\u5BF9\u5E94\u7684effect\r\n  }\r\n  effect.deps.length = effect._depsLength; // \u66F4\u65B0\u957F\u5EA6\uFF0C\u76F8\u5F53\u4E8E\u5220\u9664deps\u4E2D\u591A\u4F59\u7684dep\r\n}\r\n\r\nexport class ReactiveEffect {\r\n  _running = 0;\r\n  _trackId = 0; // \u8BB0\u5F55\u5F53\u524Deffect\u6267\u884C\u6B21\u6570\r\n  deps = []; // \u8BB0\u5F55\u5F53\u524Deffect\u5173\u8054\u7684\u4F9D\u8D56\r\n  _depsLength = 0;\r\n  _dirtyLevel = DirtyLevels.DIRTY;\r\n  active = true; // \u662F\u5426\u9700\u8981\u54CD\u5E94\u5F0F\r\n\r\n  constructor(public fn: Function, public scheduler: Function) {}\r\n\r\n  public get dirty() {\r\n    return this._dirtyLevel === DirtyLevels.DIRTY;\r\n  }\r\n\r\n  public set dirty(v) {\r\n    this._dirtyLevel = v ? DirtyLevels.DIRTY : DirtyLevels.NO_DIRTY;\r\n  }\r\n\r\n  run() {\r\n    this.dirty = false;\r\n\r\n    if (!this.active) {\r\n      return this.fn();\r\n    }\r\n\r\n    // \u9700\u8981\u54CD\u5E94\u5F0F\u5904\u7406\u7684\u903B\u8F91\r\n    let lastEffect = activeEffect; // \u89C1 question_02.js\r\n    try {\r\n      activeEffect = this;\r\n      preCleanEffect(this);\r\n      this._running++;\r\n\r\n      return this.fn();\r\n    } finally {\r\n      this._running--;\r\n      postCleanEffect(this);\r\n      activeEffect = lastEffect;\r\n    }\r\n  }\r\n\r\n  stop() {\r\n    if (this.active) {\r\n      preCleanEffect(this);\r\n      postCleanEffect(this);\r\n      this.active = false;\r\n    }\r\n  }\r\n}\r\n\r\nfunction cleanDepEffect(dep: Dep, effect: ReactiveEffect) {\r\n  dep.delete(effect);\r\n  // \u5982\u679C\u5C5E\u6027\u5BF9\u5E94\u7684dep\u4E3A\u7A7A\uFF0C\u5219\u5220\u9664\u8FD9\u4E2A\u5C5E\u6027\r\n  if (dep.size === 0) {\r\n    dep.cleanup();\r\n  }\r\n}\r\n\r\n// \u53CC\u5411\u8BB0\u5FC6\r\nexport function trackEffect(effect: ReactiveEffect, dep: Dep) {\r\n  if (!shouldTrack) return;\r\n\r\n  // \u540C\u4E00\u4E2Aeffect\u548C\u53D8\u91CF\u4E0D\u89E6\u53D1\u91CD\u590D\u6536\u96C6\r\n  if (dep.get(effect) === effect._trackId) return;\r\n  // \u66F4\u65B0_trackId\uFF0C\u786E\u4FDD\u8BB0\u5F55effect\u7684\u6700\u65B0\u6267\u884C\u6B21\u6570\r\n  dep.set(effect, effect._trackId);\r\n\r\n  // \u5F00\u59CB\u8FDB\u884C\u65B0\u65E7dep\u6BD4\u8F83\uFF0C\u4E24\u8005\u76F8\u540C\u8DF3\u8FC7\u4E0D\u505A\u5904\u7406\uFF0C\u4E0D\u76F8\u540C\u5219\u8FDB\u884C\u8986\u76D6\r\n  const oldDep = effect.deps[effect._depsLength];\r\n  if (oldDep !== dep) {\r\n    if (oldDep) {\r\n      cleanDepEffect(oldDep, effect);\r\n    }\r\n    effect.deps[effect._depsLength++] = dep;\r\n  } else {\r\n    effect._depsLength++;\r\n  }\r\n}\r\n\r\nexport function triggerEffects(dep: Dep) {\r\n  for (const effect of dep.keys()) {\r\n    if (!effect.dirty) {\r\n      effect.dirty = true;\r\n    }\r\n\r\n    if (!effect._running) {\r\n      if (effect.scheduler) {\r\n        effect.scheduler();\r\n      }\r\n    }\r\n  }\r\n}\r\n", "export const isString = (val: unknown): val is string =>\r\n  typeof val === \"string\";\r\nexport const isNumber = (val: unknown): val is number =>\r\n  typeof val === \"number\";\r\n\r\nexport const isObject = (val: unknown): val is Record<any, any> =>\r\n  val !== null && typeof val === \"object\";\r\n\r\nexport const isFunction = (val: unknown): val is Function =>\r\n  typeof val === \"function\";\r\n\r\nexport const isArray = Array.isArray;\r\n\r\nexport const isMap = (val: unknown): val is Map<any, any> =>\r\n  toTypeString(val) === \"[object Map]\";\r\nexport const isSet = (val: unknown): val is Set<any> =>\r\n  toTypeString(val) === \"[object Set]\";\r\n\r\nexport const objectToString = Object.prototype.toString;\r\nexport const toTypeString = (value: unknown): string =>\r\n  objectToString.call(value);\r\n\r\nexport const isPlainObject = (val: unknown): val is object =>\r\n  toTypeString(val) === \"[object Object]\";\r\n\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\r\nexport const hasOwn = (\r\n  val: object,\r\n  key: string | symbol\r\n): key is keyof typeof val => hasOwnProperty.call(val, key);\r\n\r\nexport const invokeArrayFns = (fns: Function[], ...arg: any[]) => {\r\n  for (let i = 0; i < fns.length; i++) {\r\n    fns[i](...arg);\r\n  }\r\n};\r\n\r\nexport const isPromise = (val) => val && typeof val.then === \"function\";\r\n\r\nexport * from \"./shapeFlages\";\r\n", "import { activeEffect, trackEffect, triggerEffects } from \"./effect\";\r\nimport type { ReactiveEffect } from \"./effect\";\r\n\r\nexport type Dep = Map<ReactiveEffect, number> & {\r\n  cleanup: Function;\r\n  name: string;\r\n};\r\n\r\nexport function createDep(cleanup: Function, key: string) {\r\n  const dep = new Map() as any;\r\n  dep.cleanup = cleanup; // \u6E05\u7406\u51FD\u6570\r\n  dep.name = key; // \u6807\u8BC6\u5F53\u524Ddep,\u65B9\u4FBFdebug\r\n  return dep;\r\n}\r\n\r\nconst targetMap = new WeakMap(); // \u5B58\u50A8\u6536\u96C6\u5230\u7684\u4F9D\u8D56\u5173\u7CFB\r\n\r\nexport function track(target: Object, key: any) {\r\n  // activeEffect\u5B58\u5728\u8BF4\u660E\u662F\u5728effect\u51FD\u6570\u4E2D\u8FDB\u884C\u8BBF\u95EE\u7684\u4EE3\u7406\u5BF9\u8C61\u5C5E\u6027\uFF0C\u624D\u9700\u8981\u8FDB\u884C\u4F9D\u8D56\u6536\u96C6\r\n  if (activeEffect) {\r\n    let depsMap = targetMap.get(target);\r\n    if (!depsMap) {\r\n      depsMap = new Map();\r\n      targetMap.set(target, depsMap);\r\n    }\r\n\r\n    let dep = depsMap.get(key);\r\n    if (!dep) {\r\n      depsMap.set(key, (dep = createDep(() => depsMap.delete(key), key)));\r\n    }\r\n\r\n    trackEffect(activeEffect, dep);\r\n  }\r\n}\r\n\r\nexport function trigger(target, key, newValue, oldValue) {\r\n  const depsMap = targetMap.get(target);\r\n\r\n  if (!depsMap) {\r\n    return;\r\n  }\r\n\r\n  const dep = depsMap.get(key);\r\n  if (dep) {\r\n    triggerEffects(dep);\r\n  }\r\n}\r\n", "import { hasOwn, isObject } from \"@vue/shared\";\r\nimport { track, trigger } from \"./reactiveEffect\";\r\nimport { reactive, readonly } from \"./reactive\";\r\nimport { ReactiveFlags } from \"./constants\";\r\nimport { pauseTracking, resetTracking } from \"./effect\";\r\n\r\nconst arrayInstrumentations = createArrayInstrumentations();\r\n\r\nfunction createArrayInstrumentations() {\r\n  const instrumentations = {};\r\n\r\n  [\"push\", \"pop\", \"shift\", \"unshift\", \"splice\"].forEach((key) => {\r\n    instrumentations[key] = function (...args) {\r\n      // \u6682\u505C\u4F9D\u8D56\u6536\u96C6\uFF0C\u907F\u514D push \u65F6\u8BBF\u95EE length \u5BFC\u81F4\u6B7B\u5FAA\u73AF\r\n      pauseTracking();\r\n      const res = Array.prototype[key].apply(this, args);\r\n      resetTracking();\r\n\r\n      // \u83B7\u53D6\u539F\u59CB\u5BF9\u8C61\r\n      const raw = this[ReactiveFlags.RAW] || this;\r\n      // \u89E6\u53D1 length \u4F9D\u8D56\r\n      trigger(raw, \"length\", this.length, undefined);\r\n      return res;\r\n    };\r\n  });\r\n\r\n  return instrumentations;\r\n}\r\n\r\nfunction createGetter(isShallow = false, isReadonly = false) {\r\n  return function get(target, key, receiver) {\r\n    if (key === ReactiveFlags.IS_REACTIVE) {\r\n      // \u53EA\u8BFB\u5BF9\u8C61\u4E0D\u662F reactive\r\n      return !isReadonly;\r\n    }\r\n\r\n    if (key === ReactiveFlags.IS_READONLY) {\r\n      return isReadonly;\r\n    }\r\n\r\n    if (key === ReactiveFlags.IS_SHALLOW) {\r\n      return isShallow;\r\n    }\r\n\r\n    // \u83B7\u53D6\u539F\u59CB\u5BF9\u8C61\r\n    if (key === ReactiveFlags.RAW) {\r\n      return target;\r\n    }\r\n\r\n    // \u6570\u7EC4\u65B9\u6CD5\u91CD\u5199 \u4E14\u53EA\u8BFB\u4E0D\u9700\u8981\u62E6\u622A\u6570\u7EC4\r\n    if (\r\n      !isReadonly &&\r\n      Array.isArray(target) &&\r\n      arrayInstrumentations.hasOwnProperty(key)\r\n    ) {\r\n      return Reflect.get(arrayInstrumentations, key, receiver);\r\n    }\r\n\r\n    // \u4F9D\u8D56\u6536\u96C6 \u6536\u96C6\u6240\u8BBF\u95EE\u5C5E\u6027\u5BF9\u5E94\u7684effect \u975E\u53EA\u8BFB\u72B6\u6001\u4E0B\u624D\u8FDB\u884C\u4F9D\u8D56\u6536\u96C6\r\n    if (!isReadonly) {\r\n      track(target, key);\r\n    }\r\n\r\n    const result = Reflect.get(target, key, receiver); // \u89C1 question_01.js\r\n    if (!isShallow && isObject(result)) {\r\n      // \u53EA\u8BFB\u7528 readonly \u5305\u88C5\uFF0C\u54CD\u5E94\u5F0F\u7528 reactive \u5305\u88C5\r\n      return isReadonly ? readonly(result) : reactive(result);\r\n    }\r\n\r\n    return result;\r\n  };\r\n}\r\n\r\nfunction createSetter(isReadonly = false) {\r\n  return function set(target, key, value, receiver) {\r\n    if (isReadonly) {\r\n      console.warn(\r\n        `Set operation on key \"${String(key)}\" failed: target is readonly.`,\r\n        target\r\n      );\r\n      return true;\r\n    }\r\n\r\n    // \u526F\u4F5C\u7528\u6CE8\u518C\u7684\u51FD\u6570\u91CD\u65B0\u89E6\u53D1\r\n    // \u6536\u96C6\u7684\u4F9D\u8D56\u91CD\u65B0\u6267\u884C\r\n    const oldValue = target[key];\r\n    const result = Reflect.set(target, key, value, receiver);\r\n\r\n    if (oldValue !== value) {\r\n      // \u65B0\u65E7\u503C\u4E0D\u4E00\u6837 \u9700\u8981\u89E6\u53D1\u66F4\u65B0\r\n      trigger(target, key, value, oldValue);\r\n    }\r\n\r\n    return result;\r\n  };\r\n}\r\n\r\nfunction createDeleteProperty(isReadonly = false) {\r\n  return function deleteProperty(target, key) {\r\n    if (isReadonly) {\r\n      console.warn(\r\n        `Delete operation on key \"${String(key)}\" failed: target is readonly.`,\r\n        target\r\n      );\r\n      return true;\r\n    }\r\n\r\n    const hadKey = hasOwn(target, key);\r\n    const oldValue = target[key];\r\n    const result = Reflect.deleteProperty(target, key);\r\n    if (result && hadKey) {\r\n      trigger(target, key, undefined, oldValue);\r\n    }\r\n    return result;\r\n  };\r\n}\r\n\r\nexport const mutableHandlers: ProxyHandler<any> = {\r\n  get: createGetter(false, false),\r\n  set: createSetter(false),\r\n  deleteProperty: createDeleteProperty(false),\r\n};\r\n\r\nexport const shallowReactiveHandlers: ProxyHandler<any> = {\r\n  get: createGetter(true, false),\r\n  set: createSetter(false),\r\n  deleteProperty: createDeleteProperty(false),\r\n};\r\n\r\nexport const readonlyHandlers: ProxyHandler<any> = {\r\n  get: createGetter(false, true),\r\n  set: createSetter(true),\r\n  deleteProperty: createDeleteProperty(true),\r\n};\r\n\r\nexport const shallowReadonlyHandlers: ProxyHandler<any> = {\r\n  get: createGetter(true, true),\r\n  set: createSetter(true),\r\n  deleteProperty: createDeleteProperty(true),\r\n};\r\n", "import { isObject } from \"@vue/shared\";\r\nimport {\r\n  mutableHandlers,\r\n  readonlyHandlers,\r\n  shallowReactiveHandlers,\r\n  shallowReadonlyHandlers,\r\n} from \"./baseHandler\";\r\nimport { ReactiveFlags } from \"./constants\";\r\n\r\n// \u8BB0\u5F55\u4EE3\u7406\u7ED3\u679C \u590D\u7528\r\nconst reactiveMap = new WeakMap();\r\n// \u5206\u7C7B\u5B58\u50A8\uFF0C\u9632\u6B62\u540C\u4E00\u4E2A\u5BF9\u8C61\u540C\u65F6\u521B\u5EFAreactive\u548CshallowReactive\u65F6\u547D\u4E2D\u7F13\u5B58\u65F6\u8FD4\u56DE\u9519\u8BEF\u7684\u54CD\u5E94\u5F0F\u5BF9\u8C61\r\nconst shallowReactiveMap = new WeakMap();\r\nconst readonlyMap = new WeakMap();\r\nconst shallowReadonlyMap = new WeakMap();\r\n\r\nfunction createReactiveObject(target, isShallow = false, isReadonly = false) {\r\n  if (!isObject(target)) {\r\n    return target;\r\n  }\r\n\r\n  // markRaw\u6807\u8BB0\uFF0C\u76F4\u63A5\u8FD4\u56DE\r\n  if (target[ReactiveFlags.SKIP]) {\r\n    return target;\r\n  }\r\n\r\n  // \u540C\u7C7B\u578B\u4EE3\u7406\u76F4\u63A5\u8FD4\u56DE\r\n  if (!isReadonly && isReactive(target)) {\r\n    return target;\r\n  }\r\n  if (isReadonly && isReadonly_(target)) {\r\n    return target;\r\n  }\r\n\r\n  // \u6839\u636E\u7C7B\u578B\u9009\u62E9\u7F13\u5B58\u548C handler\r\n  let proxyMap;\r\n  let handlers;\r\n  if (isShallow) {\r\n    proxyMap = isReadonly ? shallowReadonlyMap : shallowReactiveMap;\r\n    handlers = isReadonly ? shallowReadonlyHandlers : shallowReactiveHandlers;\r\n  } else {\r\n    proxyMap = isReadonly ? readonlyMap : reactiveMap;\r\n    handlers = isReadonly ? readonlyHandlers : mutableHandlers;\r\n  }\r\n\r\n  // \u5982\u679C\u5B58\u5728\u5219\u590D\u7528\r\n  const existProxy = proxyMap.get(target);\r\n  if (existProxy) {\r\n    return existProxy;\r\n  }\r\n\r\n  const proxy = new Proxy(target, handlers);\r\n  // \u6839\u636E\u5BF9\u8C61\u53BB\u7F13\u5B58\u4EE3\u7406\u540E\u7684\u7ED3\u679C\r\n  proxyMap.set(target, proxy);\r\n  return proxy;\r\n}\r\n\r\nexport function reactive(target) {\r\n  return createReactiveObject(target, false, false);\r\n}\r\n\r\nexport function shallowReactive(target) {\r\n  return createReactiveObject(target, true, false);\r\n}\r\n\r\nexport function readonly(target) {\r\n  return createReactiveObject(target, false, true);\r\n}\r\n\r\nexport function shallowReadonly(target) {\r\n  return createReactiveObject(target, true, true);\r\n}\r\n\r\nexport function toReactive(value) {\r\n  return isObject(value) ? reactive(value) : value;\r\n}\r\n\r\n/**\r\n * \u83B7\u53D6\u54CD\u5E94\u5F0F\u5BF9\u8C61\u7684\u539F\u59CB\u5BF9\u8C61\uFF08\u9012\u5F52\u5265\u79BB\uFF09\r\n */\r\nexport function toRaw(observed) {\r\n  const raw = observed && observed[ReactiveFlags.RAW];\r\n  return raw ? toRaw(raw) : observed;\r\n}\r\n\r\n/**\r\n * \u6807\u8BB0\u5BF9\u8C61\u6C38\u4E0D\u8F6C\u4E3A\u54CD\u5E94\u5F0F\r\n */\r\nexport function markRaw(value) {\r\n  Object.defineProperty(value, ReactiveFlags.SKIP, {\r\n    configurable: true,\r\n    enumerable: false,\r\n    value: true,\r\n  });\r\n  return value;\r\n}\r\n\r\nexport function isReactive(value) {\r\n  return value ? value[ReactiveFlags.IS_REACTIVE] === true : false;\r\n}\r\n\r\n// \u5185\u90E8\u4F7F\u7528 \u907F\u514D\u4E0E\u53D8\u91CF\u540D\u51B2\u7A81\r\nfunction isReadonly_(value) {\r\n  return value ? value[ReactiveFlags.IS_READONLY] === true : false;\r\n}\r\n\r\nexport function isReadonly(value) {\r\n  return isReadonly_(value);\r\n}\r\n\r\nexport function isShallow(value) {\r\n  return value ? value[ReactiveFlags.IS_SHALLOW] === true : false;\r\n}\r\n\r\nexport function isProxy(value) {\r\n  return isReactive(value) || isReadonly(value);\r\n}\r\n", "import { ComputedRefImpl } from \"./computed\";\r\nimport { ReactiveFlags } from \"./constants\";\r\nimport { activeEffect, trackEffect, triggerEffects } from \"./effect\";\r\nimport { toReactive } from \"./reactive\";\r\nimport { createDep, Dep } from \"./reactiveEffect\";\r\n\r\nexport function ref(value) {\r\n  return createRef(value);\r\n}\r\n\r\nfunction createRef(value) {\r\n  return new RefImpl(value);\r\n}\r\n\r\nclass RefImpl {\r\n  __v_isRef = true;\r\n  _value; // \u4EE3\u7406\u540E\u7684\u503C\r\n  dep: Dep; // \u6536\u96C6\u5BF9\u5E94\u7684effect\r\n\r\n  constructor(public rawValue) {\r\n    this._value = toReactive(rawValue);\r\n  }\r\n\r\n  // \u7C7B\u7684\u8BBF\u95EE\u5668\u5C5E\u6027\r\n  get value() {\r\n    trackRefValue(this);\r\n    return this._value;\r\n  }\r\n\r\n  set value(newValue) {\r\n    if (newValue !== this.rawValue) {\r\n      this.rawValue = newValue;\r\n      this._value = toReactive(newValue);\r\n      triggerRefValue(this);\r\n    }\r\n  }\r\n}\r\n\r\nexport function trackRefValue(ref: RefImpl | ComputedRefImpl) {\r\n  if (activeEffect) {\r\n    if (!ref.dep) {\r\n      ref.dep = createDep(() => (ref.dep = undefined), \"ref\");\r\n    }\r\n    trackEffect(activeEffect, ref.dep);\r\n  }\r\n}\r\n\r\nexport function triggerRefValue(ref: RefImpl | ComputedRefImpl) {\r\n  const dep = ref.dep;\r\n  if (dep) {\r\n    triggerEffects(dep);\r\n  }\r\n}\r\n\r\nexport function toRef(obj, key) {\r\n  return new ObjectRefImpl(obj, key);\r\n}\r\n\r\nexport function toRefs(obj) {\r\n  const result = {};\r\n  for (const key in obj) {\r\n    result[key] = toRef(obj, key);\r\n  }\r\n  return result;\r\n}\r\n\r\nclass ObjectRefImpl {\r\n  __v_isRef = true;\r\n\r\n  constructor(public _object, public _key) {}\r\n\r\n  get value() {\r\n    return this._object[this._key];\r\n  }\r\n\r\n  set value(newValue) {\r\n    this._object[this._key] = newValue;\r\n  }\r\n}\r\n\r\nexport function isRef(obj) {\r\n  return obj ? obj[ReactiveFlags.IS_REF] === true : false;\r\n}\r\n\r\nexport function proxyRefs(objectWithRefs) {\r\n  return new Proxy(objectWithRefs, {\r\n    get(target, key, receiver) {\r\n      const r = Reflect.get(target, key, receiver);\r\n      return isRef(r) ? r.value : r;\r\n    },\r\n    set(target, key, newValue, receiver) {\r\n      const oldValue = target[key];\r\n\r\n      if (isRef(oldValue)) {\r\n        oldValue.value = newValue;\r\n        return true;\r\n      } else {\r\n        return Reflect.set(target, key, newValue, receiver);\r\n      }\r\n    },\r\n  });\r\n}\r\n", "import { isFunction } from \"@vue/shared\";\r\nimport { ReactiveEffect } from \"./effect\";\r\nimport { trackRefValue, triggerRefValue } from \"./ref\";\r\n\r\nexport function computed(getterOrOption) {\r\n  let onlyGetter = isFunction(getterOrOption);\r\n\r\n  let getter;\r\n  let setter;\r\n  if (onlyGetter) {\r\n    getter = getterOrOption;\r\n    setter = () => {};\r\n  } else {\r\n    getter = getterOrOption.get;\r\n    setter = getterOrOption.set;\r\n  }\r\n\r\n  return new ComputedRefImpl(getter, setter);\r\n}\r\n\r\nexport class ComputedRefImpl {\r\n  _value; // \u7F13\u5B58\u8BA1\u7B97\u540E\u7684\u503C\r\n  effect: ReactiveEffect;\r\n  dep;\r\n\r\n  constructor(public getter, public setter) {\r\n    // \u8BA1\u7B97\u5C5E\u6027\u76F8\u5F53\u4E8E\u4E00\u4E2Aeffect\uFF0C\u9700\u8981\u521B\u5EFAReactiveEffect\u5B9E\u4F8B\uFF0C\u540C\u65F6\u5173\u8054dirty\u5C5E\u6027\r\n    this.effect = new ReactiveEffect(\r\n      () => getter(this._value),\r\n      () => {\r\n        triggerRefValue(this);\r\n      }\r\n    );\r\n  }\r\n\r\n  get value() {\r\n    // \u5F53dirty\u4E3Atrue\u65F6\u91CD\u65B0\u8BA1\u7B97\u503C\u5E76\u8FD4\u56DE\r\n    if (this.effect.dirty) {\r\n      this._value = this.effect.run();\r\n    }\r\n\r\n    // \u653E\u5728\u8BE5\u4F4D\u7F6E\u662F\u6536\u96C6\uFF0C\u5B58\u5728\u7F13\u5B58\u6570\u636E\u4E14\u4F9D\u8D56\u6570\u636E\u672A\u53D8\u5316\u65F6\u7684\u591A\u4E2Aeffect\r\n    trackRefValue(this);\r\n\r\n    return this._value;\r\n  }\r\n\r\n  set value(newValue) {\r\n    this.setter(newValue);\r\n  }\r\n}\r\n", "import {\r\n  isArray,\r\n  isFunction,\r\n  isMap,\r\n  isObject,\r\n  isPlainObject,\r\n  isSet,\r\n} from \"@vue/shared\";\r\nimport { ReactiveEffect } from \"./effect\";\r\nimport { isRef } from \"./ref\";\r\nimport { isReactive } from \"./reactive\";\r\n\r\nconst INITIAL_WATCHER_VALUE = {};\r\n\r\nexport function watch(source, cb, options = {} as any) {\r\n  return doWatch(source, cb, options);\r\n}\r\n\r\nexport function watchEffect(source, options = {} as any) {\r\n  return doWatch(source, null, options);\r\n}\r\n\r\nfunction doWatch(source, cb, { deep, immediate }) {\r\n  // \u9012\u5F52\u8BBF\u95EEsource\r\n  const reactiveGetter = (source) =>\r\n    deep === true\r\n      ? source // \u540E\u9762\u4F1A\u7EDF\u4E00 traverse\r\n      : traverse(source, deep === false ? 1 : undefined);\r\n\r\n  let getter;\r\n  let isMultiSource = false;\r\n\r\n  // \u652F\u6301\u591A\u79CDsource\u7C7B\u578B\r\n  if (isRef(source)) {\r\n    getter = () => source.value;\r\n  } else if (isReactive(source)) {\r\n    getter = () => reactiveGetter(source);\r\n  } else if (isArray(source)) {\r\n    isMultiSource = true;\r\n    getter = () =>\r\n      source.map((s) => {\r\n        if (isRef(s)) return s.value;\r\n        if (isFunction(s)) return s();\r\n        if (isReactive(s)) return reactiveGetter(s);\r\n        return s;\r\n      });\r\n  } else if (isFunction(source)) {\r\n    if (cb) {\r\n      // watch \u6A21\u5F0F - source \u662F getter\r\n      getter = source;\r\n    } else {\r\n      // watchEffect \u6A21\u5F0F - source \u662F effect \u51FD\u6570\uFF0C\u9700\u8981\u4F20\u5165 onCleanup\r\n      getter = () => source(onCleanup);\r\n    }\r\n  }\r\n\r\n  // \u7EDF\u4E00\u5904\u7406 deep\r\n  if (cb && deep) {\r\n    const baseGetter = getter;\r\n    getter = () => traverse(baseGetter());\r\n  }\r\n\r\n  let cleanup;\r\n  let onCleanup = (fn) => {\r\n    cleanup = fn;\r\n  };\r\n  const callCleanup = () => {\r\n    if (cleanup) {\r\n      cleanup();\r\n      cleanup = undefined;\r\n    }\r\n  };\r\n\r\n  let oldValue = isMultiSource\r\n    ? new Array(source.length).fill(INITIAL_WATCHER_VALUE)\r\n    : INITIAL_WATCHER_VALUE;\r\n\r\n  const scheduler = () => {\r\n    callCleanup(); // \u6267\u884C\u4E0A\u4E00\u6B21\u7684\u6E05\u7406\u56DE\u8C03\r\n\r\n    if (cb) {\r\n      const newValue = effect.run();\r\n      cb(\r\n        newValue,\r\n        oldValue === INITIAL_WATCHER_VALUE\r\n          ? undefined\r\n          : isMultiSource && oldValue[0] === INITIAL_WATCHER_VALUE\r\n          ? []\r\n          : oldValue,\r\n        onCleanup\r\n      );\r\n      oldValue = newValue;\r\n    } else {\r\n      // watchEffect\r\n      effect.run();\r\n    }\r\n  };\r\n\r\n  const effect = new ReactiveEffect(getter, scheduler);\r\n\r\n  if (cb) {\r\n    if (immediate) {\r\n      scheduler();\r\n    } else {\r\n      oldValue = effect.run();\r\n    }\r\n  } else {\r\n    // watchEffect\r\n    effect.run();\r\n  }\r\n\r\n  // \u505C\u6B62\u76D1\u542C\u51FD\u6570\r\n  const unwatch = () => {\r\n    callCleanup(); // \u6E05\u7406\u6700\u540E\u4E00\u6B21\u526F\u4F5C\u7528\r\n    effect.stop();\r\n  };\r\n\r\n  return unwatch;\r\n}\r\n\r\nfunction traverse(value, depth = Infinity, seen = new Set()) {\r\n  // \u904D\u5386\u5230\u76EE\u6807\u5C42\u7EA7 || \u975E\u5BF9\u8C61\u5C5E\u6027 \u76F4\u63A5\u8FD4\u56DE\r\n  if (depth <= 0 || !isObject(value)) {\r\n    return value;\r\n  }\r\n\r\n  // \u907F\u514D\u5FAA\u73AF\u5F15\u7528\r\n  if (seen.has(value)) {\r\n    return value;\r\n  }\r\n  seen.add(value);\r\n  depth--;\r\n\r\n  // value\u5206\u7C7B\u578B\u5904\u7406\r\n  if (isRef(value)) {\r\n    traverse(value.value, depth, seen);\r\n  } else if (isArray(value)) {\r\n    for (let i = 0; i < value.length; i++) {\r\n      traverse(value[i], depth, seen);\r\n    }\r\n  } else if (isMap(value) || isSet(value)) {\r\n    value.forEach((v) => {\r\n      traverse(v, depth, seen);\r\n    });\r\n  } else if (isPlainObject(value)) {\r\n    for (const key in value) {\r\n      traverse(value[key], depth, seen);\r\n    }\r\n    for (const key of Object.getOwnPropertySymbols(value)) {\r\n      if (Object.prototype.propertyIsEnumerable.call(value, key)) {\r\n        traverse(value[key as any], depth, seen);\r\n      }\r\n    }\r\n  }\r\n\r\n  return value;\r\n}\r\n", "import { Fragment } from \"./../vnode\";\nimport { isArray, ShapeFlags } from \"@vue/shared\";\n\nexport const TeleportEndKey = Symbol(\"_vte\");\n\n// \u5224\u65AD\u662F\u5426\u662F Teleport\nexport const isTeleport = (type) => type.__isTeleport;\n\nexport const TeleportImpl = {\n  name: \"Teleport\",\n  __isTeleport: true,\n  /**\n   * \u5904\u7406 Teleport \u7684\u6302\u8F7D\u548C\u66F4\u65B0\n   */\n  process(n1, n2, container, anchor, parentComponent, internals) {\n    // \u5916\u90E8\u4F20\u5165\u7684\u7EDF\u4E00\u7684\u5143\u7D20\u5904\u7406\u65B9\u6CD5\n    const {\n      mountChildren,\n      patchChildren,\n      move,\n      querySelector,\n      hostCreateComment,\n      hostInsert,\n    } = internals;\n\n    // Teleport props\n    const disabled = n2.props?.disabled;\n    const to = n2.props?.to;\n\n    // \u89E3\u6790\u76EE\u6807\u5BB9\u5668\n    const target = typeof to === \"string\" ? querySelector(to) : to;\n\n    if (n1 == null) {\n      // ========== \u6302\u8F7D ==========\n\n      // target \u4E0D\u5B58\u5728\u8B66\u544A\n      if (!disabled && !target) {\n        console.warn(`[Vue warn]: Invalid Teleport target: \"${to}\"`);\n      }\n\n      // \u521B\u5EFA\u951A\u70B9\u6CE8\u91CA\u8282\u70B9\uFF1A1.\u76EE\u6807\u5BB9\u5668\u53EF\u80FD\u5B58\u5728\u5176\u4ED6\u5185\u5BB9\uFF0C\u951A\u70B9\u786E\u4FDD\u5B50\u8282\u70B9 \u63D2\u5165\u5230\u6B63\u786E\u4F4D\u7F6E\uFF1B2.disabled\u5207\u6362\u65F6\uFF0C\u9700\u8981\u77E5\u9053\u539F\u59CB\u4F4D\u7F6E\uFF1B3.\u5378\u8F7D\u65F6\u9700\u8981\u660E\u786E\u54EA\u4E9B\u8282\u70B9\u5C5E\u4E8ETeleport\n      const mainAnchor = hostCreateComment(\"teleport end\");\n      const targetAnchor = hostCreateComment(\"teleport start\");\n\n      // \u5728\u539F\u59CB\u4F4D\u7F6E\u63D2\u5165\u7ED3\u675F\u951A\u70B9\uFF08\u7528\u4E8E disabled \u56DE\u9000\u5B9A\u4F4D\uFF09\n      hostInsert(mainAnchor, container, anchor);\n\n      // \u5728\u76EE\u6807\u5BB9\u5668\u63D2\u5165\u5F00\u59CB\u951A\u70B9\n      if (target) {\n        hostInsert(targetAnchor, target);\n      }\n\n      // \u76F8\u5173\u951A\u70B9\u4FE1\u606F\u4FDD\u5B58\u5230 vnode \u4E0A\n      n2.el = mainAnchor; // vnode.el \u6307\u5411\u539F\u59CB\u4F4D\u7F6E\u7684\u951A\u70B9\n      n2.targetAnchor = targetAnchor;\n      n2.target = target;\n\n      // \u51B3\u5B9A\u6302\u8F7D\u4F4D\u7F6E // target \u4E0D\u5B58\u5728\u65F6\uFF0C\u964D\u7EA7\u6302\u8F7D\u5230\u539F\u59CB\u4F4D\u7F6E\n      const mountContainer = disabled || !target ? container : target;\n      const mountAnchor = disabled || !target ? mainAnchor : targetAnchor;\n\n      // \u6A21\u7248\u7F16\u8BD1\u540E Teleport \u7684 children \u4E00\u5B9A\u662F\u6570\u7EC4\n      if (n2.shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n        mountChildren(\n          n2.children,\n          mountContainer,\n          mountAnchor,\n          parentComponent\n        );\n      }\n    } else {\n      // ========== \u66F4\u65B0 ==========\n\n      // \u53EA\u6709 to \u53D8\u5316\u65F6\u624D\u68C0\u67E5\u65B0 target\n      if (to !== n1.props?.to && !disabled && !target) {\n        console.warn(`[Vue warn]: Invalid Teleport target: \"${to}\"`);\n      }\n\n      // \u7EE7\u627F\u951A\u70B9\u5F15\u7528\n      n2.el = n1.el;\n      n2.targetAnchor = n1.targetAnchor;\n      n2.target = n1.target;\n\n      const wasDisabled = n1.props?.disabled;\n      const currentContainer = disabled ? container : n2.target;\n      const currentAnchor = disabled ? n2.el : n2.targetAnchor;\n\n      // \u5148\u66F4\u65B0\u5B50\u8282\u70B9\uFF0C\u518D\u79FB\u52A8\u8282\u70B9\u4F4D\u7F6E\n      // patch children\n      patchChildren(n1, n2, currentContainer, currentAnchor, parentComponent);\n\n      // disabled \u53D8\u5316 \u2192 \u79FB\u52A8\u5B50\u8282\u70B9\n      if (disabled !== wasDisabled) {\n        if (disabled) {\n          // \u4ECE target \u79FB\u56DE\u539F\u59CB\u4F4D\u7F6E\n          moveChildren(n2, container, n2.el, internals);\n        } else {\n          // \u4ECE\u539F\u59CB\u4F4D\u7F6E\u79FB\u5230 target\n          moveChildren(n2, n2.target, n2.targetAnchor, internals);\n        }\n      }\n\n      // to \u53D8\u5316 \u2192 \u79FB\u52A8\u5B50\u8282\u70B9\u5230\u65B0\u76EE\u6807\n      if (to !== n1.props?.to && !disabled) {\n        const newTarget = typeof to === \"string\" ? querySelector(to) : to;\n        // \u79FB\u52A8\u951A\u70B9\u548C\u5B50\u8282\u70B9\u5230\u65B0\u76EE\u6807\n        hostInsert(n2.targetAnchor, newTarget); // \u79FB\u52A8\u951A\u70B9\n        moveChildren(n2, newTarget, n2.targetAnchor, internals); // \u6839\u636E\u951A\u70B9\u5C06\u5B50\u8282\u70B9\u79FB\u52A8\u8FC7\u53BB\n        n2.target = newTarget;\n      }\n    }\n  },\n\n  /**\n   * \u79FB\u9664 Teleport\n   */\n  remove(vnode, internals) {\n    const { unmountChildren, hostRemove } = internals;\n\n    // \u5378\u8F7D\u5B50\u8282\u70B9\n    if (vnode.shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n      unmountChildren(vnode.children);\n    }\n\n    // \u79FB\u9664\u539F\u59CB\u4F4D\u7F6E\u7684\u951A\u70B9\n    if (vnode.el) {\n      hostRemove(vnode.el);\n    }\n\n    // \u79FB\u9664\u76EE\u6807\u5BB9\u5668\u7684\u951A\u70B9\n    if (vnode.targetAnchor) {\n      hostRemove(vnode.targetAnchor);\n    }\n  },\n\n  /**\n   * \u79FB\u52A8 Teleport\n   *  \u5F53 Teleport \u672C\u8EAB\u4F5C\u4E3A\u5B50\u8282\u70B9\u88AB\u7236\u7EC4\u4EF6\u79FB\u52A8\u65F6\uFF08\u6BD4\u5982\u5217\u8868\u91CD\u6392\uFF09\uFF0C\u9700\u8981\u8FD9\u4E2A\u65B9\u6CD5\u3002\n      <div v-for=\"item in list\" :key=\"item.id\">\n        <Teleport to=\"#modal\">\n          {{ item.content }}\n        </Teleport>\n      </div>\n      \u5F53 list \u987A\u5E8F\u53D8\u5316\uFF0Cdiff \u7B97\u6CD5\u4F1A\u8C03\u7528 hostInsert \u79FB\u52A8\u8282\u70B9\u3002\u4F46 Teleport \u7684\u7ED3\u6784\u6BD4\u8F83\u7279\u6B8A\uFF1A\n      - \u539F\u59CB\u4F4D\u7F6E\u53EA\u6709\u4E00\u4E2A el \u5373 mainAnchor\uFF08\u6CE8\u91CA\u8282\u70B9\uFF09\n      - \u5B50\u8282\u70B9\u5B9E\u9645\u5728 target \u91CC\n      \u76F4\u63A5 hostInsert(vnode.el) \u53EA\u4F1A\u79FB\u52A8\u90A3\u4E2A\u6CE8\u91CA\u8282\u70B9\uFF0C\u5B50\u8282\u70B9\u4E0D\u4F1A\u8DDF\u7740\u52A8\u3002\n   */\n\n  move(vnode, container, anchor, internals) {\n    const { hostInsert } = internals;\n\n    // \u79FB\u52A8\u539F\u59CB\u4F4D\u7F6E\u7684\u951A\u70B9\n    hostInsert(vnode.el, container, anchor);\n\n    // \u5982\u679C disabled\uFF0C\u5B50\u8282\u70B9\u5728\u539F\u59CB\u4F4D\u7F6E\uFF0C\u4E5F\u8981\u79FB\u52A8\n    if (vnode.props?.disabled) {\n      moveChildren(vnode, container, vnode.el, internals);\n    }\n  },\n};\n\n// \u79FB\u52A8\u5B50\u8282\u70B9\u5230\u65B0\u5BB9\u5668\nfunction moveChildren(vnode, container, anchor, internals) {\n  const children = vnode.children;\n  if (isArray(children)) {\n    for (let i = 0; i < children.length; i++) {\n      // \u5B50\u8282\u70B9\u53EF\u80FD\u662F Fragment \u6216 \u7EC4\u4EF6\uFF0C\u5B83\u4EEC\u4E0D\u662F\u5355\u4E2A DOM \u8282\u70B9\n      // Fragment \u6216 \u7EC4\u4EF6 \u53EF\u80FD\u6709\u591A\u4E2A\u6839\u8282\u70B9\uFF0Cel \u53EA\u6307\u5411\u7B2C\u4E00\u4E2A\u6839\u8282\u70B9\n      move(children[i], container, anchor, internals);\n    }\n  }\n}\n\n// \u79FB\u52A8\u5355\u4E2A vnode\nfunction move(vnode, container, anchor, { hostInsert }) {\n  const { el, type, shapeFlag, children } = vnode;\n\n  // \u7EC4\u4EF6\uFF1A\u79FB\u52A8\u5176\u6E32\u67D3\u7ED3\u679C\n  // \u7EC4\u4EF6\u7684subTree\u662Frender\u51FD\u6570\u6E32\u67D3\u51FA\u6765\u7684\u5355vnode\u8282\u70B9\uFF0C\u5982\u679C\u7EC4\u4EF6\u5B58\u5728\u591A\u4E2A\u6839\u8282\u70B9\uFF0C\u5219\u662FFragment\u7C7B\u578B\u5305\u88F9\u7684\u5355vnode\u8282\u70B9\n  if (shapeFlag & ShapeFlags.COMPONENT) {\n    move(vnode.component.subTree, container, anchor, { hostInsert });\n    return;\n  }\n\n  // Fragment\uFF1A\u79FB\u52A8\u6240\u6709\u5B50\u8282\u70B9 + anchor\n  // children \u662F\u591A\u4E2A vnode \u7684\u6570\u7EC4\n  if (type === Fragment) {\n    // \u79FB\u52A8\u6240\u6709\u5B50\u8282\u70B9\n    if (isArray(children)) {\n      for (let i = 0; i < children.length; i++) {\n        move(children[i], container, anchor, { hostInsert });\n      }\n    }\n    // \u79FB\u52A8 fragment \u7684\u7ED3\u675F\u951A\u70B9\n    if (vnode.anchor) {\n      hostInsert(vnode.anchor, container, anchor);\n    }\n    return;\n  }\n\n  // \u666E\u901A\u5143\u7D20/\u6587\u672C/\u6CE8\u91CA\n  if (el) {\n    hostInsert(el, container, anchor);\n  }\n}\n\nexport const Teleport = TeleportImpl;\n", "import { isArray } from \"@vue/shared\";\nimport { createVNode, Fragment } from \"../vnode\";\n\nexport const isSuspense = (type) => type?.__isSuspense;\n\n/**\n * \u6BCF\u4E2A <Suspense> \u5BF9\u5E94\u4E00\u4E2A\u8FB9\u754C\u5BF9\u8C61\n * \u8D1F\u8D23\u8FFD\u8E2A\u5F02\u6B65\u4F9D\u8D56\u3001\u7BA1\u7406 pending/resolved \u72B6\u6001\n */\nexport function createSuspenseBoundary(\n  vnode,\n  parentSuspense,\n  parentComponent,\n  container,\n  anchor,\n  internals\n) {\n  const suspense = {\n    vnode,\n    parent: parentSuspense,\n    parentComponent,\n    container,\n    anchor,\n    // \u72B6\u6001\u7BA1\u7406\n    deps: 0, // \u5F85 resolve \u7684\u5F02\u6B65\u4F9D\u8D56\u6570\u91CF\n    isResolved: false, // \u662F\u5426\u5DF2\u5168\u90E8 resolve\n    isHydrating: false, // SSR \u76F8\u5173\uFF0C\u6682\u4E0D\u5B9E\u73B0\n    // \u5206\u652F\u7BA1\u7406\n    pendingBranch: null, // \u5F85\u663E\u793A\u7684 default \u5185\u5BB9\uFF08\u5F02\u6B65\u52A0\u8F7D\u4E2D\uFF09\n    activeBranch: null, // \u5F53\u524D\u663E\u793A\u7684\u5185\u5BB9\n    // \u526F\u4F5C\u7528\u6536\u96C6\uFF08mounted \u7B49\u94A9\u5B50\u9700\u8981\u7B49 resolve \u540E\u6267\u884C\uFF09\n    effects: [],\n    // \u8D85\u65F6\u5B9A\u65F6\u5668\n    timeoutId: null,\n    // \u65B9\u6CD5\n    resolve: () => resolveSuspense(suspense, internals),\n    registerDep: (instance) => registerAsyncDep(suspense, instance, internals),\n  };\n\n  return suspense;\n}\n\n// \u5F02\u6B65\u4F9D\u8D56\u6CE8\u518C\nfunction registerAsyncDep(suspense, instance, internals) {\n  // \u8BA1\u6570\u5668 +1\n  suspense.deps++;\n\n  // \u5411\u7236\u7EA7 Suspense \u5192\u6CE1\uFF08\u5982\u679C suspensible \u4E3A true\uFF09\n  const { suspensible } = suspense.vnode.props || {};\n  if (suspensible !== false && suspense.parent) {\n    suspense.parent.deps++;\n  }\n\n  // \u8FD4\u56DE\u5B8C\u6210\u56DE\u8C03\uFF0C\u8BA9 renderer \u5728\u7EC4\u4EF6\u6E32\u67D3\u5B8C\u6210\u540E\u8C03\u7528\n  return function onResolve() {\n    suspense.deps--;\n\n    // \u7236\u7EA7\u8BA1\u6570\u5668\u4E5F\u8981\u51CF\n    if (suspensible !== false && suspense.parent) {\n      suspense.parent.deps--;\n      if (suspense.parent.deps === 0 && !suspense.parent.isResolved) {\n        suspense.parent.resolve();\n      }\n    }\n\n    // \u5F53\u524D Suspense\n    if (suspense.deps === 0 && !suspense.isResolved) {\n      suspense.resolve();\n    }\n  };\n}\n\n// Resolve \u5904\u7406\nfunction resolveSuspense(suspense, internals) {\n  const { vnode, activeBranch, pendingBranch, container, anchor, effects } =\n    suspense;\n  const { patch, unmount, move, hostInsert } = internals;\n\n  // \u6E05\u9664\u8D85\u65F6\u5B9A\u65F6\u5668\n  if (suspense.timeoutId) {\n    clearTimeout(suspense.timeoutId);\n    suspense.timeoutId = null;\n  }\n\n  // \u5378\u8F7D fallback\n  if (activeBranch) {\n    unmount(activeBranch);\n  }\n\n  // \u5C06 pending \u5185\u5BB9\u79FB\u5230\u771F\u5B9E\u5BB9\u5668\n  if (pendingBranch) {\n    // pendingBranch \u53EF\u80FD\u662F Fragment\uFF0C\u9700\u8981\u7279\u6B8A\u5904\u7406\n    moveBranch(pendingBranch, container, anchor, hostInsert);\n    suspense.activeBranch = pendingBranch;\n    vnode.el = pendingBranch.el;\n  }\n\n  // \u6E05\u9664\u810F\u6570\u636E\n  suspense.isResolved = true;\n  suspense.pendingBranch = null;\n\n  // \u89E6\u53D1 onResolve \u4E8B\u4EF6\n  const { onResolve } = vnode.props || {};\n  if (onResolve) {\n    onResolve();\n  }\n\n  // \u6267\u884C\u6536\u96C6\u7684\u526F\u4F5C\u7528\uFF08mounted \u94A9\u5B50\u7B49\uFF09\n  effects.forEach((fn) => fn());\n  suspense.effects.length = 0;\n}\n\n/**\n * \u79FB\u52A8\u5206\u652F\u8282\u70B9\u5230\u5BB9\u5668\n * \u5904\u7406 Fragment \u9700\u8981\u79FB\u52A8\u6240\u6709\u5B50\u8282\u70B9\u7684\u60C5\u51B5\n */\nfunction moveBranch(branch, container, anchor, hostInsert) {\n  if (branch.type === Fragment) {\n    // Fragment\uFF1A\u79FB\u52A8\u6240\u6709\u5B50\u8282\u70B9 + anchor\n    // \u6CE8\u610F\uFF1A\u76F4\u63A5\u4F7F\u7528 child.el \u800C\u4E0D\u662F branch.el\uFF0C\u56E0\u4E3A\u5F02\u6B65\u7EC4\u4EF6\u5B8C\u6210\u540E child.el \u4F1A\u66F4\u65B0\uFF0C\u4F46 branch.el\uFF08patch \u65F6\u7684\u5FEB\u7167\uFF09\u4E0D\u4F1A\u540C\u6B65\u66F4\u65B0\n    branch.children.forEach((child) => {\n      hostInsert(child.el, container, anchor);\n    });\n    if (branch.anchor) {\n      hostInsert(branch.anchor, container, anchor);\n    }\n    // \u540C\u6B65\u66F4\u65B0 Fragment \u7684 el \u5F15\u7528\n    branch.el = branch.children.length > 0 ? branch.children[0].el : branch.anchor;\n  } else {\n    // \u666E\u901A\u8282\u70B9\uFF1A\u76F4\u63A5\u79FB\u52A8 el\n    hostInsert(branch.el, container, anchor);\n  }\n}\n\n// Suspense \u7EC4\u4EF6\u5B9A\u4E49\nexport const SuspenseImpl = {\n  name: \"Suspense\",\n  __isSuspense: true,\n\n  /**\n   * \u6838\u5FC3\u5904\u7406\u65B9\u6CD5\n   * \u7C7B\u4F3C Teleport\uFF0C\u7531 renderer \u76F4\u63A5\u8C03\u7528\n   */\n  process(n1, n2, container, anchor, parentComponent, internals) {\n    if (n1 == null) {\n      // \u6302\u8F7D\n      mountSuspense(n2, container, anchor, parentComponent, internals);\n    } else {\n      // \u66F4\u65B0\n      patchSuspense(n1, n2, container, anchor, parentComponent, internals);\n    }\n  },\n\n  /**\n   * \u5378\u8F7D\n   */\n  remove(vnode, internals) {\n    const { unmount } = internals;\n    const suspense = vnode.suspense;\n\n    // \u6E05\u9664\u5B9A\u65F6\u5668\n    if (suspense.timeoutId) {\n      clearTimeout(suspense.timeoutId);\n      suspense.timeoutId = null;\n    }\n\n    // \u5378\u8F7D\u5F53\u524D\u663E\u793A\u7684\u5206\u652F\n    if (suspense.activeBranch) {\n      unmount(suspense.activeBranch);\n    }\n    // \u5378\u8F7D pending \u5206\u652F\uFF08\u5982\u679C\u6709\uFF09\n    if (suspense.pendingBranch) {\n      unmount(suspense.pendingBranch);\n    }\n  },\n\n  /**\n   * \u79FB\u52A8\uFF08diff \u91CD\u6392\u65F6\u7528\uFF09\n   */\n  move(vnode, container, anchor, internals) {\n    const { hostInsert } = internals;\n    const suspense = vnode.suspense;\n\n    if (suspense.activeBranch) {\n      moveBranch(suspense.activeBranch, container, anchor, hostInsert);\n    }\n  },\n};\n\n// \u6302\u8F7D Suspense\nfunction mountSuspense(vnode, container, anchor, parentComponent, internals) {\n  const { patch, hostCreateElement, hostCreateComment, hostInsert } = internals;\n\n  // \u67E5\u627E\u7236\u7EA7 Suspense\uFF08\u7528\u4E8E\u5D4C\u5957\uFF09\n  let parentSuspense = null;\n  let p = parentComponent;\n  while (p) {\n    // \u627E\u5230\u7236\u7EA7\u672A resolve \u7684 suspense\n    // \u6B64\u5904\u7684\u6570\u636E\u7ED3\u6784\u4E0D\u662F\u5F88\u6E05\u695A p.suspense \u662F\u600E\u4E48\u8D4B\u503C\u7684\n    if (p.suspense && !p.suspense.isResolved) {\n      parentSuspense = p.suspense;\n      break;\n    }\n    p = p.parent;\n  }\n\n  // \u521B\u5EFA Suspense \u8FB9\u754C\n  const suspense = createSuspenseBoundary(\n    vnode,\n    parentSuspense,\n    parentComponent,\n    container,\n    anchor,\n    internals\n  );\n  vnode.suspense = suspense;\n\n  // \u83B7\u53D6\u63D2\u69FD\n  const { default: defaultSlot, fallback: fallbackSlot } = vnode.children || {};\n\n  // \u89E6\u53D1 onPending \u4E8B\u4EF6\n  const { onPending, timeout } = vnode.props || {};\n  if (onPending) {\n    onPending();\n  }\n\n  // \u521B\u5EFA\u9690\u85CF\u5BB9\u5668\uFF08\u7528\u4E8E\u6E32\u67D3 default \u5185\u5BB9\uFF09\n  const hiddenContainer = hostCreateElement(\"div\");\n\n  // \u6E32\u67D3 default \u5185\u5BB9\u5230\u9690\u85CF\u5BB9\u5668\n  const pendingBranch = defaultSlot ? normalizeSlot(defaultSlot()) : null;\n  if (pendingBranch) {\n    suspense.pendingBranch = pendingBranch;\n\n    // patch \u5230\u9690\u85CF\u5BB9\u5668\uFF0C\u8FD9\u4E2A\u8FC7\u7A0B\u4E2D\u4F1A\u6536\u96C6\u5F02\u6B65\u4F9D\u8D56\n    // \u5173\u952E\uFF1Apatch \u65F6\u4F20\u5165 suspense\uFF0C\u8BA9\u5B50\u7EC4\u4EF6\u77E5\u9053\u81EA\u5DF1\u5728 Suspense \u5185\n    patch(null, pendingBranch, hiddenContainer, null, {\n      ...parentComponent,\n      suspense, // \u6CE8\u5165 Suspense \u8FB9\u754C\n    });\n  }\n\n  // \u68C0\u67E5\u662F\u5426\u6709\u5F02\u6B65\u4F9D\u8D56\n  if (suspense.deps > 0) {\n    // \u6709\u5F02\u6B65\u4F9D\u8D56\uFF0C\u663E\u793A fallback\n\n    // \u89E6\u53D1 onFallback \u4E8B\u4EF6\n    const { onFallback } = vnode.props || {};\n    if (onFallback) {\n      onFallback();\n    }\n\n    const fallback = fallbackSlot ? normalizeSlot(fallbackSlot()) : null;\n    if (fallback) {\n      patch(null, fallback, container, anchor, parentComponent);\n      suspense.activeBranch = fallback;\n      vnode.el = fallback.el;\n    }\n\n    // \u8BBE\u7F6E\u8D85\u65F6\n    if (timeout && timeout > 0) {\n      suspense.timeoutId = setTimeout(() => {\n        if (!suspense.isResolved) {\n          // \u89E6\u53D1 onTimeout \u4E8B\u4EF6\n          const { onTimeout } = vnode.props || {};\n          if (onTimeout) {\n            onTimeout();\n          }\n        }\n      }, timeout);\n    }\n  } else {\n    // \u6CA1\u6709\u5F02\u6B65\u4F9D\u8D56\uFF0C\u76F4\u63A5\u663E\u793A default\n    if (pendingBranch) {\n      // \u4ECE\u9690\u85CF\u5BB9\u5668\u79FB\u5230\u771F\u5B9E\u5BB9\u5668\uFF08\u5904\u7406 Fragment\uFF09\n      moveBranch(pendingBranch, container, anchor, hostInsert);\n      suspense.activeBranch = pendingBranch;\n      vnode.el = pendingBranch.el;\n    }\n    suspense.isResolved = true;\n  }\n}\n\n// \u66F4\u65B0 Suspense\nfunction patchSuspense(n1, n2, container, anchor, parentComponent, internals) {\n  const { patch, patchChildren } = internals;\n  const suspense = (n2.suspense = n1.suspense);\n  suspense.vnode = n2;\n\n  // \u83B7\u53D6\u65B0\u7684\u63D2\u69FD\n  const { default: defaultSlot, fallback: fallbackSlot } = n2.children || {};\n\n  if (suspense.isResolved) {\n    // \u5DF2\u7ECF resolve\uFF0C\u66F4\u65B0 default \u5185\u5BB9\n    const newDefault = defaultSlot ? normalizeSlot(defaultSlot()) : null;\n    if (newDefault && suspense.activeBranch) {\n      patch(\n        suspense.activeBranch,\n        newDefault,\n        container,\n        anchor,\n        parentComponent\n      );\n      suspense.activeBranch = newDefault;\n      n2.el = newDefault.el;\n    }\n  } else {\n    // \u8FD8\u5728 pending\uFF0C\u66F4\u65B0 fallback\n    const newFallback = fallbackSlot ? normalizeSlot(fallbackSlot()) : null;\n    if (newFallback && suspense.activeBranch) {\n      patch(\n        suspense.activeBranch,\n        newFallback,\n        container,\n        anchor,\n        parentComponent\n      );\n      suspense.activeBranch = newFallback;\n      n2.el = newFallback.el;\n    }\n  }\n}\n\nfunction normalizeSlot(slot) {\n  // \u63D2\u69FD\u53EF\u80FD\u8FD4\u56DE\u6570\u7EC4\uFF0C\u9700\u8981\u5305\u88C5\u6210 Fragment\n  if (isArray(slot)) {\n    return createVNode(Fragment, null, slot);\n  }\n  return slot;\n}\n\nexport const Suspense = SuspenseImpl;\n", "import {\r\n  isArray,\r\n  isFunction,\r\n  isNumber,\r\n  isObject,\r\n  isString,\r\n  ShapeFlags,\r\n} from \"@vue/shared\";\r\nimport { isTeleport } from \"./components/Teleport\";\r\nimport { isSuspense } from \"./components/Suspense\";\r\n\r\nexport const Text = Symbol.for(\"v-txt\");\r\nexport const Fragment = Symbol.for(\"v-fgt\");\r\nexport const Comment = Symbol.for(\"v-cmt\");\r\n\r\nexport function createVNode(type, props, children?) {\r\n  const shapeFlag = isString(type)\r\n    ? ShapeFlags.ELEMENT // \u5143\u7D20\r\n    : isSuspense(type) // \u65B0\u589E\uFF1ASuspense \u68C0\u6D4B\r\n    ? ShapeFlags.SUSPENSE\r\n    : isTeleport(type)\r\n    ? ShapeFlags.TELEPORT // Teleport\uFF08\u5FC5\u987B\u5728 isObject \u4E4B\u524D\uFF09\r\n    : isObject(type)\r\n    ? ShapeFlags.STATEFUL_COMPONENT // \u7EC4\u4EF6\r\n    : 0;\r\n  const vnode = {\r\n    __v_isVnode: true,\r\n    type,\r\n    props,\r\n    children,\r\n    key: props?.key,\r\n    el: null, // \u865A\u62DF\u8282\u70B9\u5BF9\u5E94\u7684\u771F\u5B9E\u8282\u70B9\r\n    component: null,\r\n    target: null, // Teleport\u7684\u76EE\u6807\u5BB9\u5668 \u771F\u5B9E\u8282\u70B9\r\n    targetAnchor: null, // Teleport\u7684\u76EE\u6807\u5BB9\u5668\u7684\u6302\u8F7D\u951A\u70B9 \u771F\u5B9E\u8282\u70B9\r\n    shapeFlag,\r\n    anchor: null, // Fragment \u7684\u7ED3\u675F\u951A\u70B9\r\n    suspense: null, // Suspense \u8FB9\u754C\u5F15\u7528\r\n  };\r\n\r\n  if (children !== null) {\r\n    let type = 0;\r\n\r\n    if (isArray(children)) {\r\n      type = ShapeFlags.ARRAY_CHILDREN;\r\n    } else if (isObject(children)) {\r\n      // \u5BF9\u8C61\u5F62\u5F0F \u2192 slots\r\n      type = ShapeFlags.SLOTS_CHILDREN;\r\n    } else if (isFunction(children)) {\r\n      // \u51FD\u6570\u5F62\u5F0F \u2192 \u5305\u88C5\u6210\u5BF9\u8C61\u5F62\u5F0F slots\r\n      children = { default: children };\r\n      type = ShapeFlags.SLOTS_CHILDREN;\r\n    } else {\r\n      children = String(children);\r\n      type = ShapeFlags.TEXT_CHILDREN;\r\n    }\r\n\r\n    // \u7EDF\u4E00\u8D4B\u503C\r\n    vnode.children = children;\r\n    vnode.shapeFlag |= type;\r\n  }\r\n\r\n  return vnode;\r\n}\r\n\r\nexport function isVnode(value) {\r\n  return value?.__v_isVnode;\r\n}\r\n\r\nexport function isSameVnode(n1, n2) {\r\n  return n1.type === n2.type && n1.key === n2.key;\r\n}\r\n\r\nexport function normalizeVnode(child) {\r\n  // null/undefined/boolean \u2192 \u6CE8\u91CA\u8282\u70B9\uFF08\u4E0D\u6E32\u67D3\u4EFB\u4F55\u5185\u5BB9\uFF09\r\n  if (child == null || typeof child === \"boolean\") {\r\n    return createVNode(Comment, null, \"\");\r\n  }\r\n  // \u5B57\u7B26\u4E32/\u6570\u5B57 \u2192 \u6587\u672C\u8282\u70B9\r\n  if (isString(child) || isNumber(child)) {\r\n    return createVNode(Text, null, String(child));\r\n  }\r\n  // \u6570\u7EC4 \u2192 Fragment \u5305\u88F9\r\n  if (isArray(child)) {\r\n    return createVNode(Fragment, null, child);\r\n  }\r\n  // \u5DF2\u7ECF\u662F vnode\uFF0C\u76F4\u63A5\u8FD4\u56DE\r\n  return child;\r\n}\r\n", "/**\r\n * h \u7684\u6838\u5FC3\u96BE\u70B9\u5728\u4E8E\u7B2C\u4E8C\u4E2A\u53C2\u6570\u7684\u591A\u6001\u2014\u2014\u5B83\u53EF\u80FD\u662F props\uFF0C\u4E5F\u53EF\u80FD\u662F children\u3002\u8C03\u7528\u5F62\u5F0F\u6C47\u603B:\r\n    h('div')                          // \u53EA\u6709 type\r\n    h('div', { class: 'red' })        // type + props\r\n    h('div', 'hello')                 // type + \u6587\u672Cchildren\r\n    h('div', [child1, child2])        // type + \u6570\u7EC4children\r\n    h('div', h('span'))               // type + \u5355\u4E2Avnode children\r\n    h('div', { id: 'app' }, 'hello')  // type + props + children\r\n    h('div', null, 'text', h('span')) // type + null + \u591A\u4E2Achildren\r\n */\r\nimport { isArray, isObject } from \"@vue/shared\";\r\nimport { createVNode, isVnode } from \"./vnode\";\r\n\r\nexport function h(type, propsOrChildren?, children?) {\r\n  const argsLen = arguments.length;\r\n\r\n  if (argsLen === 2) {\r\n    // \u5224\u65AD propsOrChildren \u662F props \u8FD8\u662F children\r\n    if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\r\n      // \u5BF9\u8C61\u7C7B\u578B\r\n      // \u5224\u65AD\u662F\u4E0D\u662F vnode\r\n      if (isVnode(propsOrChildren)) {\r\n        // \u5355\u4E2A vnode \u5B50\u8282\u70B9\uFF0C\u5305\u6210\u6570\u7EC4\r\n        return createVNode(type, null, [propsOrChildren]);\r\n      }\r\n      // \u666E\u901A\u5BF9\u8C61\u89C6\u4E3A props\uFF0C\u65E0 children\r\n      return createVNode(type, propsOrChildren);\r\n    } else {\r\n      // \u6570\u7EC4\u6216\u57FA\u7840\u7C7B\u578B\uFF0C\u89C6\u4E3A children\r\n      return createVNode(type, null, propsOrChildren);\r\n    }\r\n  } else {\r\n    // \u53C2\u6570 >= 3\uFF0C\u7B2C\u4E8C\u4E2A\u662F props\r\n    if (argsLen > 3) {\r\n      children = Array.from(arguments).slice(2);\r\n    } else if (argsLen === 3 && isVnode(children)) {\r\n      // \u5355\u4E2A vnode children\uFF0C\u5305\u6570\u7EC4\r\n      children = [children];\r\n    }\r\n    return createVNode(type, propsOrChildren, children);\r\n  }\r\n}\r\n", "const queue = []; // \u5F85\u6267\u884C\u7684\u4EFB\u52A1\u961F\u5217\uFF08\u7EC4\u4EF6\u66F4\u65B0\u51FD\u6570\uFF09\nconst pendingPostFlushCbs = []; // post \u9636\u6BB5\u56DE\u8C03\uFF08mounted/updated \u7B49\uFF09\nlet isFlushing = false; // \u662F\u5426\u6B63\u5728\u5237\u65B0\u961F\u5217\nconst resolvePromise = Promise.resolve(); // \u7528\u4E8E\u521B\u5EFA\u5FAE\u4EFB\u52A1\n\n// \u6DFB\u52A0\u7EC4\u4EF6\u66F4\u65B0\u4EFB\u52A1\nexport function queueJob(job) {\n  // \u53BB\u91CD\uFF1A\u540C\u4E00\u4E2A\u7EC4\u4EF6\u7684 update \u51FD\u6570\u53EA\u5165\u961F\u4E00\u6B21\n  if (!queue.includes(job)) {\n    queue.push(job);\n  }\n\n  queueFlush(); // \u89E6\u53D1\u5237\u65B0\n}\n\n// \u6DFB\u52A0 post \u9636\u6BB5\u56DE\u8C03\uFF08mounted/updated/unmounted \u7528\uFF09\nexport function queuePostFlushCb(cb) {\n  if (!pendingPostFlushCbs.includes(cb)) {\n    pendingPostFlushCbs.push(cb);\n  }\n\n  queueFlush();\n}\n\nfunction queueFlush() {\n  if (!isFlushing) {\n    isFlushing = true;\n    resolvePromise.then(flushJobs);\n  }\n}\n\nfunction flushJobs() {\n  // 1. \u6267\u884C\u7EC4\u4EF6\u66F4\u65B0\u4EFB\u52A1\n  const currentQueue = queue.slice(0);\n  queue.length = 0;\n  currentQueue.forEach((job) => job());\n\n  // 2. \u6267\u884C post \u56DE\u8C03\uFF08\u751F\u547D\u5468\u671F\u94A9\u5B50\uFF09\n  flushPostFlushCbs();\n\n  // 3. \u5982\u679C post \u56DE\u8C03\u4E2D\u89E6\u53D1\u4E86\u65B0\u7684\u66F4\u65B0\u6216\u56DE\u8C03\uFF0C\u7EE7\u7EED\u6267\u884C\n  // \u8FD9\u662F\u5173\u952E\uFF1A\u751F\u547D\u5468\u671F\u94A9\u5B50\u53EF\u80FD\u4FEE\u6539\u54CD\u5E94\u5F0F\u6570\u636E\uFF0C\u89E6\u53D1\u65B0\u7684\u7EC4\u4EF6\u66F4\u65B0\n  if (queue.length || pendingPostFlushCbs.length) {\n    flushJobs();\n    return;\n  }\n\n  isFlushing = false;\n}\n\nfunction flushPostFlushCbs() {\n  if (pendingPostFlushCbs.length) {\n    // \u53BB\u91CD\u5E76\u590D\u5236\n    const cbs = [...new Set(pendingPostFlushCbs)];\n    pendingPostFlushCbs.length = 0;\n    cbs.forEach((cb) => cb());\n  }\n}\n", "export function getSequence(arr) {\n  const p = arr.slice();\n  const result = [0];\n  let i, j, u, v, c;\n  const len = arr.length;\n\n  for (i = 0; i < len; i++) {\n    const arrI = arr[i];\n    if (arrI !== 0) {\n      j = result[result.length - 1];\n      if (arr[j] < arrI) {\n        p[i] = j;\n        result.push(i);\n        continue;\n      }\n      // \u4E8C\u5206\u67E5\u627E\n      u = 0;\n      v = result.length - 1;\n      while (u < v) {\n        c = (u + v) >> 1;\n        if (arr[result[c]] < arrI) {\n          u = c + 1;\n        } else {\n          v = c;\n        }\n      }\n      if (arrI < arr[result[u]]) {\n        if (u > 0) {\n          p[i] = result[u - 1];\n        }\n        result[u] = i;\n      }\n    }\n  }\n  // \u56DE\u6EAF\n  u = result.length;\n  v = result[u - 1];\n  while (u-- > 0) {\n    result[u] = v;\n    v = p[v];\n  }\n  return result;\n}", "import { hasOwn } from \"@vue/shared\";\n\n// \u7279\u6B8A\u5C5E\u6027\u6620\u5C04\u8868\nexport const publicPropertiesMap = {\n  $attrs: (i) => i.attrs,\n  $slots: (i) => i.slots,\n  $props: (i) => i.props,\n  $el: (i) => i.vnode.el,\n  // $emit \u9700\u8981\u5355\u72EC\u5904\u7406\uFF0C\u540E\u9762\u518D\u52A0\n};\n\nexport const PublicInstanceProxyHandlers = {\n  get(target, key) {\n    const { data, props, setupState } = target;\n\n    // 1. \u4F18\u5148\u4ECE setupState \u53D6\uFF08Composition API\uFF09\n    if (setupState && hasOwn(setupState, key)) {\n      return setupState[key];\n    }\n\n    // 2. \u518D\u4ECE data \u53D6\uFF08Options API \u7684 data\uFF09\n    if (data && hasOwn(data, key)) {\n      return data[key];\n    }\n\n    // 3. \u518D\u4ECE props \u53D6\n    if (props && hasOwn(props, key)) {\n      return props[key];\n    }\n\n    // 4. \u7279\u6B8A\u5C5E\u6027 $xxx\n    const publicGetter = publicPropertiesMap[key];\n    if (publicGetter) {\n      return publicGetter(target);\n    }\n\n    // \u627E\u4E0D\u5230\u5C31 undefined\n  },\n  set(target, key, value) {\n    const { data, props, setupState } = target;\n\n    // setupState \u53EF\u5199\n    if (setupState && hasOwn(setupState, key)) {\n      setupState[key] = value;\n      return true;\n    }\n\n    // data \u53EF\u5199\n    if (data && hasOwn(data, key)) {\n      data[key] = value;\n      return true;\n    }\n\n    // props \u53EA\u8BFB\u8B66\u544A\n    if (props && hasOwn(props, key)) {\n      console.warn(`Props \"${String(key)}\" \u662F\u53EA\u8BFB\u7684\uFF0C\u4E0D\u80FD\u4FEE\u6539`);\n      return false;\n    }\n\n    return true;\n  },\n  // \u652F\u6301 'xxx' in this \u8BED\u6CD5\n  has(target, key) {\n    const { data, props, setupState } = target;\n    return (\n      (setupState && hasOwn(setupState, key)) ||\n      (data && hasOwn(data, key)) ||\n      (props && hasOwn(props, key)) ||\n      hasOwn(publicPropertiesMap, key)\n    );\n  },\n};\n\n// \u4E3B\u8981\u4F5C\u7528\u662Frender\u3001data\u51FD\u6570\u4E2D\u9700\u8981\u8BBF\u95EEthis.xxx\uFF0C\u521B\u5EFAProxy\u8FDB\u884C\u62E6\u622A\u5E76\u6309\u7167\u4F18\u5148\u7EA7\u67E5\u627E\u6570\u636E\u6E90 setupState \u2192 data \u2192 props \u2192 ctx($attrs/$slots/...)\nexport function createComponentProxy(instance) {\n  return new Proxy(instance, PublicInstanceProxyHandlers);\n}\n", "import { shallowReactive } from \"@vue/reactivity\";\n\n/**\n * \u521D\u59CB\u5316\u7EC4\u4EF6 props\n * @param instance - \u7EC4\u4EF6\u5B9E\u4F8B\n * @param rawProps - vnode.props\uFF08\u7236\u7EC4\u4EF6\u4F20\u5165\u7684\u539F\u59CB\u5C5E\u6027\uFF09\n */\nexport const initProps = (instance, rawProps) => {\n  const props = {};\n  const attrs = {};\n\n  // \u83B7\u53D6\u7EC4\u4EF6\u5B9A\u4E49\u4E2D\u58F0\u660E\u7684 props \u9009\u9879\n  const options = instance.type.props || {};\n\n  if (rawProps) {\n    for (const key in rawProps) {\n      const value = rawProps[key];\n      // \u7EC4\u4EF6\u58F0\u660E\u4E86\u8FD9\u4E2A prop \u2192 \u653E\u5165 props\n      // \u5426\u5219 \u2192 \u653E\u5165 attrs\uFF08\u900F\u4F20\u7ED9\u5B50\u5143\u7D20\uFF09\n      if (key in options) {\n        props[key] = value;\n      } else {\n        attrs[key] = value;\n      }\n    }\n  }\n\n  // props\u9700\u8981\u8FDB\u884C\u54CD\u5E94\u5F0F\uFF0Cattrs\u4E0D\u9700\u8981\u54CD\u5E94\u5F0F\n  instance.props = shallowReactive(props);\n  instance.attrs = attrs;\n};\n\n// \u66F4\u65B0 props\nexport function updateProps(instance, nextRawProps) {\n  const { props, attrs } = instance;\n  const options = instance.type.props || {};\n\n  // \u904D\u5386\u65B0\u7684\u539F\u59CB props\n  if (nextRawProps) {\n    for (const key in nextRawProps) {\n      const value = nextRawProps[key];\n\n      if (key in options) {\n        // \u5728 options \u4E2D\u58F0\u660E\u4E86\uFF0C\u66F4\u65B0 props\n        if (props[key] !== value) {\n          props[key] = value;\n        }\n      } else {\n        // \u5728 options \u4E2D\u672A\u58F0\u660E\uFF0C\u66F4\u65B0 attrs\n        if (attrs[key] !== value) {\n          attrs[key] = value;\n        }\n      }\n    }\n  }\n\n  // \u5220\u9664\u4E0D\u5B58\u5728\u7684 props\n  for (const key in props) {\n    if (!nextRawProps || !(key in nextRawProps)) {\n      delete props[key];\n    }\n  }\n\n  // \u5220\u9664\u4E0D\u5B58\u5728\u7684 attrs\n  for (const key in attrs) {\n    if (!nextRawProps || !(key in nextRawProps)) {\n      delete attrs[key];\n    }\n  }\n}\n", "import { isFunction } from \"@vue/shared\";\n\n/**\n * \u521B\u5EFA emit \u51FD\u6570\n */\nexport function createEmit(instance) {\n  return (event, ...args) => {\n    // 1. \u5378\u8F7D\u68C0\u67E5\n    if (instance.isUnmounted) return;\n\n    const props = instance.vnode.props || {};\n\n    // 2. \u591A\u683C\u5F0F\u4E8B\u4EF6\u540D\u5339\u914D\uFF1A\u539F\u59CB \u2192 camelCase \u2192 kebab-case(v-model)\n    // \u7236\u7EC4\u4EF6\u5199\u6CD5\uFF1A\n    // <Child @item-click=\"handler\" />\n    // \u7F16\u8BD1\u540E props: { onItemClick: handler }\n    // Vue \u6A21\u677F\u7F16\u8BD1\u5668\u4F1A\u8F6C\u6210 camelCase\uFF0C\u4F8B\u5982 @click -> onClick  @item-click -> onItemClick  @itemClick -> onItemClick  v-model -> onUpdate:modelValue  v-model:visiable -> onUpdate:visiable\n    // \u6B64\u5904\u903B\u8F91\u5C31\u662F\u5C06\u5B50\u7EC4\u4EF6emit\u4F20\u9012\u7684event\u4E8B\u4EF6\u540D\u79F0\u8F6C\u5316\u4E3A\u5404\u79CD\u683C\u5F0F\uFF0C\u5339\u914D\u6A21\u677F\u7F16\u8BD1\u540E\u7684\u6807\u51C6\u4E8B\u4EF6\u540D\n    let handlerName;\n    let handler =\n      props[(handlerName = toHandlerKey(event))] ||\n      props[(handlerName = toHandlerKey(camelize(event)))];\n\n    // v-model \u7684 update:xxx \u4E8B\u4EF6\uFF0C\u8FD8\u9700\u8981\u5C1D\u8BD5 kebab-case\n    if (!handler && event.startsWith(\"update:\")) {\n      handler = props[(handlerName = toHandlerKey(hyphenate(event)))];\n    }\n\n    if (handler && isFunction(handler)) {\n      handler(...args);\n    }\n\n    // 3. once \u4E8B\u4EF6\u652F\u6301\n    // \u6A21\u7248\u7F16\u8BD1\u7ED3\u679C\uFF1A\u4E8B\u4EF6\u540D + Once \u540E\u7F00\n    // | \u6A21\u677F\u5199\u6CD5                | \u7F16\u8BD1\u540E\u7684 prop key       |\n    // |-------------------------|-------------------------|\n    // | @click                  | onClick                 |\n    // | @click.once             | onClickOnce             |\n    // | @update:modelValue.once | onUpdate:modelValueOnce |\n    // | @my-event.once          | onMyEventOnce           |\n    const onceHandler = props[handlerName + \"Once\"];\n    if (onceHandler && isFunction(onceHandler)) {\n      // \u521D\u59CB\u5316 emitted \u8BB0\u5F55\n      if (instance.emitted) {\n        instance.emitted = {};\n      } else if (instance.emitted[handlerName]) {\n        // \u5DF2\u7ECF\u89E6\u53D1\u8FC7\uFF0C\u76F4\u63A5\u8FD4\u56DE\n        return;\n      }\n\n      instance.emitted[handlerName] = true;\n      onceHandler(...args);\n    }\n  };\n}\n\n/**\n * \u4E8B\u4EF6\u540D\u8F6C handler \u540D\n * click \u2192 onClick\n * update:modelValue \u2192 onUpdate:modelValue\n */\nfunction toHandlerKey(str) {\n  if (!str) return \"\";\n  return `on${str[0].toUpperCase()}${str.slice(1)}`;\n}\n\n/**\n * \u9A7C\u5CF0\u5316\n * kebab-case \u2192 camelCase\n * my-event \u2192 myEvent\n */\nfunction camelize(str) {\n  return str.replace(/-(\\w)/g, (_, c) => c.toUpperCase());\n}\n\n/**\n * \u7528\u8FDE\u5B57\u7B26\u8FDE\u63A5\n * camelCase \u2192 kebab-case\n * myEvent \u2192 my-event\n * updateModelValue \u2192 update-model-value\n */\nfunction hyphenate(str) {\n  return str.replace(/\\B([A-Z])/g, \"-$1\").toLowerCase();\n}\n", "import { isFunction, isObject, isPromise } from \"@vue/shared\";\nimport { createEmit } from \"./componentEmits\";\nimport { proxyRefs } from \"@vue/reactivity\";\n\n// \u5F53\u524D\u7EC4\u4EF6\u5B9E\u4F8B\uFF08\u751F\u547D\u5468\u671F\u94A9\u5B50\u9700\u8981\uFF09\nexport let currentInstance = null;\n\n// \u5B9E\u4F8B\u6808\uFF1A\u89E3\u51B3 async setup \u671F\u95F4\u5176\u4ED6\u7EC4\u4EF6\u6E32\u67D3\u8986\u76D6 currentInstance \u7684\u95EE\u9898\nconst instanceStack = [];\n\nexport const setCurrentInstance = (instance) => {\n  instanceStack.push(instance);\n  currentInstance = instance;\n};\n\nexport const unsetCurrentInstance = () => {\n  instanceStack.pop();\n  // \u6062\u590D\u5230\u4E0A\u4E00\u4E2A\u5B9E\u4F8B\uFF08\u5982\u679C\u6709\uFF09\n  currentInstance = instanceStack[instanceStack.length - 1] || null;\n};\n\nexport const getCurrentInstance = () => currentInstance;\n\n// \u521B\u5EFA\u7EC4\u4EF6\u5B9E\u4F8B\nexport function createComponentInstance(vnode, parent) {\n  // | \u5C5E\u6027                 | \u542B\u4E49                   | \u5185\u5BB9\u793A\u4F8B                                    |\n  // |----------------------|------------------------|---------------------------------------------|\n  // | instance.vnode.props | \u7236\u7EC4\u4EF6\u4F20\u5165\u7684\u539F\u59CB props | { onClick: fn, class: 'btn', msg: 'hello' } |\n  // | instance.props       | \u7ECF\u8FC7\u89E3\u6790\u540E\u7684\u7EC4\u4EF6 props | { msg: 'hello' } (\u53EA\u5305\u542B\u58F0\u660E\u7684)             |\n  // | instance.type.props  | \u7EC4\u4EF6\u58F0\u660E\u7684 props \u5B9A\u4E49  | { msg: { type: String, required: true } }   |\n  const instance = {\n    type: vnode.type, // \u7EC4\u4EF6\u5B9A\u4E49\u5BF9\u8C61\uFF08\u5305\u542B props \u9009\u9879\u3001render \u7B49\uFF09\n    vnode, // \u7EC4\u4EF6\u7684 vnode\n    provides: parent ? parent.provides : Object.create(null), // provides \u7EE7\u627F\u7236\u7EC4\u4EF6\uFF08\u539F\u578B\u94FE\uFF09\n    parent,\n    props: null, // \u54CD\u5E94\u5F0F props\n    attrs: null, // \u900F\u4F20\u5C5E\u6027\n    data: null, // data() \u8FD4\u56DE\u7684\u54CD\u5E94\u5F0F\u72B6\u6001\n    setupState: null, // setup \u8FD4\u56DE\u7684\u72B6\u6001\u5BF9\u8C61\uFF08\u7ECF\u8FC7 proxyRefs \u5904\u7406\uFF09\n    render: null, // setup \u8FD4\u56DE\u7684\u6E32\u67D3\u51FD\u6570\n    proxy: null,\n    subTree: null,\n    isMounted: false, // \u7EC4\u4EF6\u662F\u5426\u5DF2\u6302\u8F7D\n    isUnmounted: false, // \u7EC4\u4EF6\u662F\u5426\u5DF2\u5378\u8F7D\n    update: null,\n    next: null, // \u5F85\u66F4\u65B0\u7684 vnode\uFF08patchComponent \u7528\uFF09\n    slots: {}, // \u63D2\u69FD\n    emit: null, // emit \u51FD\u6570\n    emitted: null, // \u5DF2\u7ECF\u89E6\u53D1\u8FC7\u7684 emitted \u51FD\u6570\u540D\u79F0\n    ctx: {}, // \u5185\u90E8\u4E0A\u4E0B\u6587\uFF0C\u7528\u4E8E KeepAlive \u7B49\u5185\u7F6E\u7EC4\u4EF6\n    // \u751F\u547D\u5468\u671F\u94A9\u5B50\n    bm: null, // beforeMount\n    m: null, // mounted\n    bu: null, // beforeUpdate\n    u: null, // updated\n    bum: null, // beforeUnmount\n    um: null, // unmounted\n    a: null, // activated\n    da: null, // deactivated\n    // Suspense\n    asyncDep: null, // setup \u8FD4\u56DE\u7684 Promise\n    asyncResolved: false, // \u5F02\u6B65\u662F\u5426\u5DF2 resolve\n    suspense: null, // \u5173\u8054\u7684 Suspense \u8FB9\u754C\n  };\n\n  // \u521B\u5EFA emit \u51FD\u6570\uFF0C\u7ED1\u5B9A\u5F53\u524D\u5B9E\u4F8B\n  instance.emit = createEmit(instance);\n\n  return instance;\n}\n\n/**\n * \u6267\u884C\u7EC4\u4EF6\u7684 setup \u51FD\u6570\uFF0C\u652F\u6301 async setup\n */\nexport function setupComponent(instance) {\n  const { type, props } = instance;\n  const { setup } = type;\n\n  if (setup) {\n    // \u521B\u5EFA setup \u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570 context\n    const setupContext = createSetupContext(instance);\n\n    // \u8BBE\u7F6E\u5F53\u524D\u5B9E\u4F8B \u8BA9\u94A9\u5B50\u51FD\u6570\u53EF\u4EE5\u83B7\u53D6\u5230\n    setCurrentInstance(instance);\n\n    // \u6267\u884C setup\uFF0C\u4F20\u5165 props \u548C context\n    const setupResult = setup(props, setupContext);\n\n    // \u5904\u7406 setup \u8FD4\u56DE\u503C\n    if (isPromise(setupResult)) {\n      // async setup\uFF0C\u5B58\u50A8 Promise\uFF0C\u7B49\u5F85 Suspense \u5904\u7406\n      instance.asyncDep = setupResult\n        .then(\n          (result) => {\n            instance.asyncResolved = true;\n            handleSetupResult(instance, result);\n            return result;\n          },\n          (err) => {\n            // \u9519\u8BEF\u5904\u7406\n            console.error(\"[Vue] async setup error:\", err);\n          }\n        )\n        .finally(() => {\n          // \u7B49\u5F85 Promise \u5B8C\u6210\u540E\u518D\u6E05\u9664\u5F53\u524D\u5B9E\u4F8B\n          unsetCurrentInstance();\n        });\n    } else {\n      // \u6E05\u9664\u5F53\u524D\u5B9E\u4F8B\n      unsetCurrentInstance();\n      handleSetupResult(instance, setupResult);\n    }\n  }\n}\n\n/**\n * \u521B\u5EFA setup \u7684 context \u53C2\u6570\n */\nfunction createSetupContext(instance) {\n  return {\n    attrs: instance.attrs,\n    slots: instance.slots,\n    emit: instance.emit,\n    expose: () => {}, // TODO \u540E\u7EED\u5B9E\u73B0\n  };\n}\n\n/**\n * \u5904\u7406 setup \u8FD4\u56DE\u503C\n */\nfunction handleSetupResult(instance, setupResult) {\n  // \u8FD4\u56DE\u51FD\u6570 \u2192 \u4F5C\u4E3A render \u51FD\u6570\n  if (isFunction(setupResult)) {\n    instance.render = setupResult;\n  }\n  // \u8FD4\u56DE\u5BF9\u8C61 \u2192 \u66B4\u9732\u7ED9\u6A21\u677F\uFF0C\u7528 proxyRefs \u81EA\u52A8\u89E3\u5305\n  else if (isObject(setupResult)) {\n    instance.setupState = proxyRefs(setupResult);\n  }\n}\n", "export function shouldUpdateComponent(n1, n2) {\n  const prevProps = n1.props;\n  const nextProps = n2.props;\n\n  // \u5F15\u7528\u76F8\u540C \u4E0D\u9700\u8981\u66F4\u65B0\n  if (prevProps === nextProps) return false;\n\n  // \u65E7\u7684\u6CA1\u6709 props\uFF0C\u770B\u65B0\u7684\u6709\u6CA1\u6709\n  if (!prevProps) return !!nextProps;\n\n  // \u65B0\u7684\u6CA1\u6709 props\uFF0C\u65E7\u7684\u6709\uFF0C\u9700\u8981\u66F4\u65B0\n  if (!nextProps) return true;\n\n  // \u90FD\u6709 props\uFF0C\u9010\u4E2A\u6BD4\u8F83\n  return hasPropsChanged(prevProps, nextProps);\n}\n\n// \u5224\u65AD props \u662F\u5426\u53D8\u5316\nfunction hasPropsChanged(prevProps, nextProps) {\n  const nextKeys = Object.keys(nextProps);\n  // \u6570\u91CF\u4E0D\u540C \u5219\u4E0D\u540C\n  if (Object.keys(prevProps).length !== nextKeys.length) return true;\n\n  // \u9010\u4E2A\u5BF9\u6BD4\u503C\n  for (let i = 0; i < nextKeys.length; i++) {\n    const key = nextKeys[i];\n    if (prevProps[key] !== nextProps[key]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n", "import { isFunction, ShapeFlags } from \"@vue/shared\";\n\n/**\n * \u521D\u59CB\u5316 slots\n * @param instance - \u7EC4\u4EF6\u5B9E\u4F8B\n * @param children - vnode.children\n */\nexport function initSlots(instance, children) {\n  const { shapeFlag } = instance.vnode;\n\n  // \u53EA\u6709 SLOTS_CHILDREN \u624D\u9700\u8981\u5904\u7406\n  if (shapeFlag & ShapeFlags.SLOTS_CHILDREN) {\n    normalizeObjectSlots(children, instance.slots);\n  }\n}\n\n/**\n * \u89C4\u8303\u5316\u5BF9\u8C61\u5F62\u5F0F\u7684 slots\n */\nfunction normalizeObjectSlots(children, slots) {\n  // \u5C06 h \u51FD\u6570\u521B\u5EFA\u7684 vnode \u4E2D\u7684 SLOTS_CHILDREN \u8D4B\u503C\u5230\u7EC4\u4EF6\u5B9E\u4F8B\u4E2D\u7684 slots\n  for (const key in children) {\n    const value = children[key];\n    // \u786E\u4FDD\u6BCF\u4E2A slot \u90FD\u662F\u51FD\u6570\n    slots[key] = isFunction(value) ? value : () => value;\n  }\n}\n\n/**\n * \u66F4\u65B0 slots\uFF08\u7EC4\u4EF6\u66F4\u65B0\u65F6\u8C03\u7528\uFF09\n */\nexport function updateSlots(instance, children) {\n  const { slots } = instance;\n\n  if (instance.vnode.shapeFlag & ShapeFlags.SLOTS_CHILDREN) {\n    normalizeObjectSlots(children, slots);\n  }\n}\n", "import { isArray, isString, ShapeFlags } from \"@vue/shared\";\nimport { getCurrentInstance } from \"../component\";\nimport { isVnode } from \"../vnode\";\nimport { queuePostFlushCb } from \"../scheduler\";\n\nexport const isKeepAlive = (vnode) => vnode.type.__isKeepAlive;\n\n// | \u6807\u5FD7\u4F4D                      | \u542B\u4E49                             | \u4F5C\u7528\u65F6\u673A   |\n// |-----------------------------|---------------------------------|-----------|\n// | COMPONENT_SHOULD_KEEP_ALIVE | \u8FD9\u4E2A\u7EC4\u4EF6\u5E94\u8BE5\u88AB\u7F13\u5B58\uFF0C\u5378\u8F7D\u65F6\u522B\u9500\u6BC1   | \u5378\u8F7D\u65F6\u68C0\u67E5 |\n// | COMPONENT_KEPT_ALIVE        | \u8FD9\u4E2A\u7EC4\u4EF6\u4ECE\u7F13\u5B58\u6FC0\u6D3B\uFF0C\u4E0D\u9700\u8981\u91CD\u65B0\u6302\u8F7D | \u6302\u8F7D\u65F6\u68C0\u67E5 |\nexport const KeepAliveImpl = {\n  name: \"KeepAlive\",\n  __isKeepAlive: true,\n\n  props: {\n    include: [String, RegExp, Array],\n    exclude: [String, RegExp, Array],\n    max: [Number, String],\n  },\n\n  setup(props, { slots }) {\n    // \u7F13\u5B58\u7ED3\u6784\n    const cache = new Map(); // key -> vnode\n    const keys = new Set(); // \u8BB0\u5F55\u8BBF\u95EE\u987A\u5E8F LRU\n\n    // \u5F53\u524D\u7EC4\u4EF6\u5B9E\u4F8B\n    const instance = getCurrentInstance();\n\n    // \u4ECE renderer \u6CE8\u5165\u7684\u65B9\u6CD5\n    const { move, createElement, unmount: _unmount } = instance.ctx;\n\n    // \u9690\u85CF\u5BB9\u5668\uFF1A\u505C\u7528\u7684\u7EC4\u4EF6 DOM \u6682\u5B58\u5728\u8FD9\u91CC\n    const hiddenContainer = createElement(\"div\");\n\n    // \u6FC0\u6D3B\uFF1A\u4ECE\u9690\u85CF\u5BB9\u5668\u79FB\u56DE\u9875\u9762\n    instance.ctx.activate = (vnode, container, anchor) => {\n      move(vnode, container, anchor);\n      // \u89E6\u53D1 activated \u94A9\u5B50\n      const instance = vnode.component;\n      if (instance.a) {\n        queuePostFlushCb(() => instance.a.forEach((fn) => fn()));\n      }\n    };\n\n    // \u505C\u7528\uFF1A\u4ECE\u9875\u9762\u79FB\u5230\u9690\u85CF\u5BB9\u5668\n    instance.ctx.deactivate = (vnode) => {\n      move(vnode, hiddenContainer, null);\n      // \u89E6\u53D1 deactivated \u94A9\u5B50\n      const instance = vnode.component;\n      if (instance.da) {\n        queuePostFlushCb(() => instance.da.forEach((fn) => fn()));\n      }\n    };\n\n    // \u771F\u6B63\u5378\u8F7D\uFF08\u8D85\u51FA max \u6216\u8005\u7EC4\u4EF6\u9500\u6BC1\u65F6\uFF09\n    const pruneCacheEntry = (key) => {\n      const cached = cache.get(key);\n      if (cached) {\n        // \u79FB\u9664\u7F13\u5B58\u6807\u8BB0\uFF0C\u6267\u884C\u771F\u6B63\u7684\u5378\u8F7D\n        cached.shapeFlag &= ~ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE;\n        _unmount(cached);\n        cache.delete(key);\n        keys.delete(key);\n      }\n    };\n\n    // \u7EC4\u4EF6\u5378\u8F7D\u65F6\u6E05\u7A7A\u6240\u6709\u7F13\u5B58\n    if (!instance.um) instance.um = [];\n    instance.um.push(() => {\n      cache.forEach((_, key) => pruneCacheEntry(key));\n    });\n\n    // \u83B7\u53D6\u7F13\u5B58 key\n    const getCacheKey = (vnode) => {\n      // \u4F18\u5148\u7528 key\uFF08\u540C\u7EC4\u4EF6\u4E0D\u540C\u5B9E\u4F8B\uFF09\n      // \u5426\u5219\u7528 type\uFF08\u4E0D\u540C\u7EC4\u4EF6\uFF09\n      // Vue \u5B98\u65B9\u6587\u6863\u4E5F\u8BF4\u660E\uFF1A\u5982\u679C\u4F60\u60F3\u7F13\u5B58\u540C\u4E00\u7EC4\u4EF6\u7684\u591A\u4E2A\u5B9E\u4F8B\uFF0C\u9700\u8981\u7ED9\u5B83\u4EEC\u4E0D\u540C\u7684 key\n      return vnode.key != null ? vnode.key : vnode.type;\n    };\n\n    // \u68C0\u67E5\u7EC4\u4EF6\u540D\u662F\u5426\u5339\u914D include/exclude\n    const matches = (pattern, name) => {\n      if (!name) return false;\n\n      if (isString(pattern)) {\n        return pattern.split(\",\").includes(name);\n      }\n      if (pattern instanceof RegExp) {\n        return pattern.test(name);\n      }\n      if (isArray(pattern)) {\n        return pattern.includes(name);\n      }\n\n      return false;\n    };\n\n    return () => {\n      // Vue \u6E90\u7801\u4E2D\uFF0C\u5982\u679C KeepAlive \u6709\u591A\u4E2A\u5B50\u8282\u70B9\uFF0C\u4F1A\u8B66\u544A\u5E76\u53EA\u53D6\u7B2C\u4E00\u4E2A\n      // \u83B7\u53D6\u9ED8\u8BA4\u63D2\u69FD\u7684\u7B2C\u4E00\u4E2A\u5B50\u8282\u70B9\n      const children = slots.default?.();\n      const rawVNode = isArray(children) ? children[0] : children;\n\n      // \u6DFB\u52A0\u591A\u5B50\u8282\u70B9\u8B66\u544A\n      if (isArray(children) && children.length > 1) {\n        console.warn(\"[KeepAlive] should have exactly one child component\");\n      }\n\n      // \u53EA\u5904\u7406\u6709\u72B6\u6001\u7EC4\u4EF6\n      if (\n        !isVnode(rawVNode) ||\n        !(rawVNode.shapeFlag & ShapeFlags.STATEFUL_COMPONENT)\n      ) {\n        return rawVNode;\n      }\n\n      // \u83B7\u53D6\u7EC4\u4EF6\u540D\n      const component = rawVNode.type;\n      const name = component.name || component.__name;\n\n      // \u68C0\u67E5 include/exclude\n      const { include, exclude, max } = props;\n      if (\n        (include && (!name || !matches(include, name))) ||\n        (exclude && name && matches(exclude, name))\n      ) {\n        // \u4E0D\u7F13\u5B58\uFF0C\u76F4\u63A5\u8FD4\u56DE\n        return rawVNode;\n      }\n\n      const key = getCacheKey(rawVNode);\n\n      // \u68C0\u67E5\u7F13\u5B58\n      const cachedVNode = cache.get(key);\n\n      if (cachedVNode) {\n        // \u547D\u4E2D\u7F13\u5B58\uFF1A\u590D\u7528\u7EC4\u4EF6\u5B9E\u4F8B\n        rawVNode.el = cachedVNode.el;\n        rawVNode.component = cachedVNode.component;\n\n        // \u6807\u8BB0\u4E3A\u4ECE\u7F13\u5B58\u6FC0\u6D3B\n        rawVNode.shapeFlag |= ShapeFlags.COMPONENT_KEPT_ALIVE;\n\n        // \u66F4\u65B0\u7F13\u5B58\u4E2D\u7684 vnode \u5F15\u7528\uFF08props \u53EF\u80FD\u53D8\u4E86\uFF09\n        cache.set(key, rawVNode);\n\n        // LRU \u79FB\u5230\u6700\u65B0\u4F4D\u7F6E\n        keys.delete(key);\n        keys.add(key);\n      } else {\n        // \u672A\u547D\u4E2D\uFF1A\u52A0\u5165\u7F13\u5B58\n        cache.set(key, rawVNode);\n        keys.add(key);\n\n        // \u8D85\u51FA max\uFF0C\u6DD8\u6C70\u6700\u4E45\u672A\u4F7F\u7528\u7684\n        if (max && keys.size > parseInt(max as string, 10)) {\n          const oldestKey = keys.values().next().value;\n          pruneCacheEntry(oldestKey);\n        }\n      }\n\n      // \u6807\u8BB0\uFF1A\u5378\u8F7D\u65F6\u5E94\u8BE5\u7F13\u5B58\u800C\u4E0D\u662F\u9500\u6BC1\n      rawVNode.shapeFlag |= ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE;\n\n      return rawVNode;\n    };\n  },\n};\n\nexport const KeepAlive = KeepAliveImpl;\n", "import { invokeArrayFns, ShapeFlags } from \"@vue/shared\";\r\nimport { isSameVnode, Text, Fragment, Comment, normalizeVnode } from \"./vnode\";\r\nimport { reactive, ReactiveEffect } from \"@vue/reactivity\";\r\nimport { queueJob, queuePostFlushCb } from \"./scheduler\";\r\nimport { getSequence } from \"./utils/sequence\";\r\nimport { createComponentProxy } from \"./componentPublicInstance\";\r\nimport { initProps, updateProps } from \"./componentProps\";\r\nimport { createComponentInstance, setupComponent } from \"./component\";\r\nimport { shouldUpdateComponent } from \"./componentRenderUtils\";\r\nimport { initSlots, updateSlots } from \"./componentSlots\";\r\nimport { TeleportImpl } from \"./components/Teleport\";\r\nimport { isKeepAlive } from \"./components/KeepAlive\";\r\nimport { SuspenseImpl } from \"./components/Suspense\";\r\n\r\nexport function createRenderer(renderOptions) {\r\n  const {\r\n    insert: hostInsert,\r\n    remove: hostRemove,\r\n    createElement: hostCreateElement,\r\n    createText: hostCreateText,\r\n    createComment: hostCreateComment,\r\n    setText: hostSetText,\r\n    setElementText: hostSetElementText,\r\n    parentNode: hostParentNode,\r\n    nextSibling: hostNextSibling,\r\n    querySelector,\r\n    patchProp: hostPatchProp,\r\n  } = renderOptions;\r\n\r\n  const mountChildren = (\r\n    children,\r\n    container,\r\n    anchor = null,\r\n    parentComponent = null\r\n  ) => {\r\n    for (let i = 0; i < children.length; i++) {\r\n      // \u6B64\u5904children[i]\u53EF\u80FD\u662F\u7EAF\u6587\u672C\u5143\u7D20\r\n      const child = (children[i] = normalizeVnode(children[i]));\r\n      patch(null, child, container, anchor, parentComponent);\r\n    }\r\n  };\r\n\r\n  const mountElement = (\r\n    vnode,\r\n    container,\r\n    anchor = null,\r\n    parentComponent = null\r\n  ) => {\r\n    const { type, children, props, shapeFlag } = vnode;\r\n\r\n    // \u521B\u5EFA\u8282\u70B9\r\n    const el = (vnode.el = hostCreateElement(type));\r\n\r\n    // \u6DFB\u52A0\u5C5E\u6027\r\n    if (props) {\r\n      for (const key in props) {\r\n        hostPatchProp(el, key, null, props[key]);\r\n      }\r\n    }\r\n\r\n    // \u5B50\u8282\u70B9 \u865A\u62DF\u8282\u70B9\u5B58\u5728 shapeFlag \u5C5E\u6027,\u7528\u4E8E\u5224\u65AD\u5B50\u8282\u70B9\u7EC4\u6210\r\n    if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n      hostSetElementText(el, children);\r\n    } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n      mountChildren(children, el, null, parentComponent);\r\n    }\r\n\r\n    hostInsert(el, container, anchor);\r\n  };\r\n\r\n  const mountComponent = (\r\n    vnode,\r\n    container,\r\n    anchor = null,\r\n    parentComponent = null\r\n  ) => {\r\n    // \u521B\u5EFA\u7EC4\u4EF6\u5B9E\u4F8B\r\n    const instance = createComponentInstance(vnode, parentComponent);\r\n    // \u6302\u8F7D\u5230 vnode \u4E0A\uFF08patchComponent \u9700\u8981\uFF09\r\n    vnode.component = instance;\r\n\r\n    // \u5982\u679C\u7236\u7EC4\u4EF6\u6709 Suspense \u8FB9\u754C\uFF0C\u7EE7\u627F\u5B83\r\n    if (parentComponent?.suspense) {\r\n      instance.suspense = parentComponent.suspense;\r\n    }\r\n\r\n    // \u5982\u679C\u662F KeepAlive\uFF0C\u6CE8\u5165 renderer \u65B9\u6CD5\r\n    if (isKeepAlive(vnode)) {\r\n      instance.ctx = {\r\n        move(vnode, container, anchor) {\r\n          const subTree = vnode.component.subTree;\r\n\r\n          // Fragment\uFF1A\u9700\u8981\u79FB\u52A8\u6240\u6709\u5B50\u8282\u70B9 + anchor\r\n          if (subTree.type === Fragment) {\r\n            subTree.children.forEach((child) => {\r\n              hostInsert(child.el, container, anchor);\r\n            });\r\n            if (subTree.anchor) {\r\n              hostInsert(subTree.anchor, container, anchor);\r\n            }\r\n          } else {\r\n            hostInsert(subTree.el, container, anchor);\r\n          }\r\n        },\r\n        createElement: hostCreateElement,\r\n        unmount,\r\n      };\r\n    }\r\n\r\n    // \u521D\u59CB\u5316props\r\n    initProps(instance, vnode.props);\r\n    // \u521D\u59CB\u5316\u63D2\u69FD\r\n    initSlots(instance, vnode.children);\r\n\r\n    // \u521B\u5EFA\u4EE3\u7406\r\n    instance.proxy = createComponentProxy(instance);\r\n\r\n    // \u6267\u884C setup\r\n    setupComponent(instance);\r\n\r\n    // \u521D\u59CB\u5316 data\r\n    const { data = () => {} } = vnode.type;\r\n    instance.data = reactive(data.call(instance.proxy));\r\n\r\n    // \u68C0\u67E5\u5F02\u6B65\u4F9D\u8D56\r\n    if (instance.asyncDep) {\r\n      // \u6709\u5F02\u6B65\u4F9D\u8D56\uFF0C\u6CE8\u518C\u5230 Suspense\r\n      if (instance.suspense) {\r\n        // \u6CE8\u518C\u4F9D\u8D56\uFF0C\u62FF\u5230\u5B8C\u6210\u56DE\u8C03\r\n        const onResolved = instance.suspense.registerDep(instance);\r\n\r\n        // \u4E0D\u7ACB\u5373\u6267\u884C setupRenderEffect\r\n        // \u7B49 async setup resolve \u540E\u518D\u6E32\u67D3\r\n        instance.asyncDep.then(() => {\r\n          // resolve \u540E\u624D\u6302\u8F7D\r\n          if (!instance.isUnmounted) {\r\n            // 1. \u5148\u6E32\u67D3\u7EC4\u4EF6\uFF08\u6B64\u65F6 el \u624D\u6709\u503C\uFF09\r\n            setupRenderEffect(instance, vnode, container, anchor);\r\n\r\n            // 2. \u6E32\u67D3\u5B8C\u6210\u540E\uFF0C\u8C03\u7528\u5B8C\u6210\u56DE\u8C03\r\n            onResolved();\r\n          }\r\n        });\r\n        return; // \u63D0\u524D\u8FD4\u56DE\r\n      } else {\r\n        // \u6CA1\u6709 Suspense \u5305\u88F9\uFF0C\u8B66\u544A\u5E76\u7B49\u5F85\r\n        console.warn(\"[Vue] async setup used without Suspense\");\r\n        instance.asyncDep.then(() => {\r\n          if (!instance.isUnmounted) {\r\n            setupRenderEffect(instance, vnode, container, anchor);\r\n          }\r\n        });\r\n        return;\r\n      }\r\n    }\r\n\r\n    // \u6B63\u5E38\u540C\u6B65\u6302\u8F7D\r\n    setupRenderEffect(instance, vnode, container, anchor);\r\n  };\r\n\r\n  const setupRenderEffect = (instance, vnode, container, anchor) => {\r\n    const componentUpdateFn = () => {\r\n      if (instance.isUnmounted) return;\r\n\r\n      // render \u53EF\u80FD\u6765\u81EA setup \u8FD4\u56DE\u503C\uFF0C\u4E5F\u53EF\u80FD\u6765\u81EA\u7EC4\u4EF6\u5B9A\u4E49\uFF0C\u524D\u8005\u4F18\u5148\u7EA7\u8F83\u9AD8\r\n      const render = instance.render || instance.type.render;\r\n\r\n      if (!instance.isMounted) {\r\n        // ========== \u6302\u8F7D ==========\r\n\r\n        // beforeMount\r\n        if (instance.bm) {\r\n          invokeArrayFns(instance.bm);\r\n        }\r\n\r\n        // render\u51FD\u6570\u5185\u90E8this\u6307\u5411state\uFF0C\u540C\u65F6\u4F20\u9012\u53C2\u6570proxy\r\n        const subTree = render.call(instance.proxy, instance.proxy);\r\n        patch(null, subTree, container, anchor, instance);\r\n\r\n        instance.isMounted = true;\r\n        instance.subTree = subTree;\r\n        vnode.el = subTree.el; // \u7EC4\u4EF6\u7684 el \u6307\u5411\u6839\u5143\u7D20\r\n\r\n        // mounted (\u5F02\u6B65\uFF0CDOM\u66F4\u65B0\u540E\u6267\u884C)\r\n        if (instance.m) {\r\n          queuePostFlushCb(() => invokeArrayFns(instance.m));\r\n        }\r\n      } else {\r\n        // ========== \u66F4\u65B0 ==========\r\n\r\n        // beforeUpdate\r\n        if (instance.bu) {\r\n          invokeArrayFns(instance.bu);\r\n        }\r\n\r\n        let { next, vnode } = instance;\r\n        // \u5982\u679C\u5B58\u5728next\uFF0C\u8BF4\u660E\u662F\u7236\u7EC4\u4EF6\u89E6\u53D1\u7684\u66F4\u65B0\uFF0C\u9700\u8981\u66F4\u65B0props\r\n        if (next) {\r\n          next.el = vnode.el;\r\n          updateComponentPreRender(instance, next);\r\n        }\r\n\r\n        const subTree = render.call(instance.proxy, instance.proxy);\r\n        patch(instance.subTree, subTree, container, anchor, instance);\r\n        instance.subTree = subTree;\r\n\r\n        // updated\uFF08\u5F02\u6B65\uFF09\r\n        if (instance.u) {\r\n          queuePostFlushCb(() => invokeArrayFns(instance.u));\r\n        }\r\n      }\r\n    };\r\n\r\n    const effect = new ReactiveEffect(componentUpdateFn, () =>\r\n      queueJob(instance.update)\r\n    );\r\n\r\n    instance.update = () => effect.run();\r\n    instance.update();\r\n  };\r\n\r\n  const updateComponentPreRender = (instance, nextVNode) => {\r\n    instance.vnode = nextVNode;\r\n    instance.next = null;\r\n\r\n    updateProps(instance, nextVNode.props);\r\n    updateSlots(instance, nextVNode.children);\r\n  };\r\n\r\n  const patchProps = (el, oldProps, newProps) => {\r\n    // \u65B0\u589E\u6216\u8005\u4FEE\u6539\u7684\u5C5E\u6027\r\n    for (const key in newProps) {\r\n      hostPatchProp(el, key, oldProps[key], newProps[key]);\r\n    }\r\n    // \u79FB\u9664\u65E7\u5C5E\u6027\r\n    for (const key in oldProps) {\r\n      if (!(key in newProps)) {\r\n        hostPatchProp(el, key, oldProps[key], null);\r\n      }\r\n    }\r\n  };\r\n\r\n  const patchKeyedChildren = (\r\n    c1,\r\n    c2,\r\n    container,\r\n    anchor = null,\r\n    parentComponent = null\r\n  ) => {\r\n    let i = 0;\r\n    let e1 = c1.length - 1;\r\n    let e2 = c2.length - 1;\r\n\r\n    // 1.\u4ECE\u5934\u5BF9\u6BD4\r\n    while (i <= e1 && i <= e2) {\r\n      const n1 = c1[i];\r\n      const n2 = (c2[i] = normalizeVnode(c2[i]));\r\n      if (isSameVnode(n1, n2)) {\r\n        patch(n1, n2, container, null, parentComponent); // \u9012\u5F52 patch\r\n      } else {\r\n        break;\r\n      }\r\n      i++;\r\n    }\r\n\r\n    // 2.\u4ECE\u5C3E\u5BF9\u6BD4\r\n    while (i <= e1 && i <= e2) {\r\n      const n1 = c1[e1];\r\n      const n2 = (c2[e2] = normalizeVnode(c2[e2]));\r\n      if (isSameVnode(n1, n2)) {\r\n        patch(n1, n2, container, null, parentComponent); // \u9012\u5F52 patch\r\n      } else {\r\n        break;\r\n      }\r\n      e1--;\r\n      e2--;\r\n    }\r\n\r\n    // 3.\u65B0\u7684\u591A \u6302\u8F7D\r\n    // (a b)\r\n    // (a b) c d\r\n    // i = 2, e1 = 1, e2 = 3\r\n    if (i > e1 && i <= e2) {\r\n      const nextPos = e2 + 1;\r\n      const insertAnchor = nextPos < c2.length ? c2[nextPos].el : anchor;\r\n      while (i <= e2) {\r\n        patch(\r\n          null,\r\n          (c2[i] = normalizeVnode(c2[i])),\r\n          container,\r\n          insertAnchor,\r\n          parentComponent\r\n        );\r\n        i++;\r\n      }\r\n    }\r\n\r\n    // 4.\u65E7\u7684\u591A \u5378\u8F7D\r\n    // (a b) c d\r\n    // (a b)\r\n    // i = 2, e1 = 3, e2 = 1\r\n    else if (i > e2 && i <= e1) {\r\n      while (i <= e1) {\r\n        unmount(c1[i]);\r\n        i++;\r\n      }\r\n    }\r\n\r\n    // 5.\u4E71\u5E8F\r\n    else {\r\n      const s1 = i;\r\n      const s2 = i;\r\n\r\n      // 5.1 \u5EFA\u7ACB key -> index \u6620\u5C04\r\n      const keyToNewIndexMap = new Map();\r\n      for (let i = s2; i <= e2; i++) {\r\n        const nextChild = (c2[i] = normalizeVnode(c2[i]));\r\n        if (nextChild.key != null) {\r\n          keyToNewIndexMap.set(nextChild.key, i);\r\n        }\r\n      }\r\n\r\n      // 5.2 \u904D\u5386\u65E7\u8282\u70B9\uFF0Cpatch \u53EF\u590D\u7528\u7684\uFF0C\u5220\u9664\u591A\u4F59\u7684\r\n      const toBePatched = e2 - s2 + 1;\r\n      const newIndexToOldIndexMap = new Array(toBePatched).fill(0);\r\n\r\n      for (let i = s1; i <= e1; i++) {\r\n        const oldChild = c1[i];\r\n        const newIndex = keyToNewIndexMap.get(oldChild.key);\r\n\r\n        if (newIndex === undefined) {\r\n          // \u5728\u65B0\u7684\u6570\u7EC4\u4E2D\u4E0D\u5B58\u5728 \u5378\u8F7D\r\n          unmount(oldChild);\r\n        } else {\r\n          // \u8BB0\u5F55 \u65B0\u7D22\u5F15 -> \u65E7\u7D22\u5F15 \u7684\u6620\u5C04\uFF08+1 \u662F\u4E3A\u4E86\u533A\u5206 0 \u548C\u672A\u5339\u914D\uFF09\r\n          newIndexToOldIndexMap[newIndex - s2] = i + 1;\r\n          // \u590D\u7528 \u6BD4\u8F83\u8282\u70B9\u5DEE\u5F02\uFF0C\u66F4\u65B0\u5C5E\u6027\u548C\u513F\u5B50\r\n          patch(oldChild, c2[newIndex], container, null, parentComponent);\r\n        }\r\n      }\r\n\r\n      // 5.3 \u79FB\u52A8\u548C\u65B0\u589E\uFF08\u5012\u5E8F + LIS \u4F18\u5316\uFF09\r\n      const increasingNewIndexSequence = getSequence(newIndexToOldIndexMap);\r\n      let j = increasingNewIndexSequence.length - 1;\r\n\r\n      for (let i = toBePatched - 1; i >= 0; i--) {\r\n        // \u6839\u636E\u65B0\u6570\u7EC4\uFF0C\u5012\u5E8F\u63D2\u5165\r\n        const nextIndex = s2 + i;\r\n        const nextChild = c2[nextIndex];\r\n        const insertAnchor =\r\n          nextIndex + 1 < c2.length ? c2[nextIndex + 1].el : anchor;\r\n\r\n        if (newIndexToOldIndexMap[i] === 0) {\r\n          // \u65B0\u589E\u8282\u70B9\r\n          patch(null, nextChild, container, anchor, parentComponent);\r\n        } else if (j < 0 || i !== increasingNewIndexSequence[j]) {\r\n          // \u4E0D\u5728 LIS \u4E2D\uFF0C\u9700\u8981\u79FB\u52A8\r\n          const child = c2[nextIndex];\r\n\r\n          if (child.shapeFlag & ShapeFlags.TELEPORT) {\r\n            // Teleport \u7528\u4E13\u95E8\u7684 move \u65B9\u6CD5\r\n            TeleportImpl.move(child, container, insertAnchor, {\r\n              hostInsert,\r\n            });\r\n          } else if (child.shapeFlag & ShapeFlags.SUSPENSE) {\r\n            SuspenseImpl.move(child, container, insertAnchor, { hostInsert });\r\n          } else {\r\n            hostInsert(child.el, container, insertAnchor);\r\n          }\r\n        } else {\r\n          // \u5728 LIS \u4E2D\uFF0C\u65E0\u9700\u79FB\u52A8\r\n          j--;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const patchChildren = (\r\n    n1,\r\n    n2,\r\n    container,\r\n    anchor = null,\r\n    parentComponent = null\r\n  ) => {\r\n    // children \u6709\u4E09\u79CD\u7C7B\u578B\uFF1ATEXT\u3001ARRAY\u3001NULL\uFF0C\u7EC4\u5408\u8D77\u6765 3\u00D73 = 9 \u79CD\u60C5\u51B5\r\n    const c1 = n1.children;\r\n    const c2 = n2.children;\r\n    const prevShapeFlag = n1.shapeFlag;\r\n    const shapeFlag = n2.shapeFlag;\r\n\r\n    // \u65B0 children \u662F\u6587\u672C\r\n    if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n      // \u65E7\u7684\u662F\u6570\u7EC4 \u5148\u5378\u8F7D\r\n      if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n        unmountChildren(c1);\r\n      }\r\n      // \u6587\u672C\u4E0D\u540C\u624D\u66F4\u65B0\r\n      if (c1 !== c2) {\r\n        hostSetElementText(container, c2);\r\n      }\r\n    } else {\r\n      // \u65B0 children \u662F\u6570\u7EC4\u6216\u7A7A\r\n      if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n        if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n          // \u6570\u7EC4 -> \u6570\u7EC4\uFF1Adiff\u7B97\u6CD5\r\n          patchKeyedChildren(c1, c2, container, anchor, parentComponent);\r\n        } else {\r\n          // \u6570\u7EC4 -> \u7A7A\uFF1A\u5378\u8F7D\r\n          unmountChildren(c1);\r\n        }\r\n      } else {\r\n        // \u65E7\u7684\u662F\u6587\u672C\u6216\u7A7A\r\n        if (prevShapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n          // \u65E7\u7684\u662F\u6587\u672C\u5219\u5148\u628A\u5B50\u5143\u7D20\u6E05\u7A7A\r\n          hostSetElementText(container, \"\");\r\n        }\r\n        if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n          mountChildren(c2, container, anchor, parentComponent);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const patchElement = (n1, n2, parentComponent = null) => {\r\n    // \u590D\u7528 DOM \u8282\u70B9\r\n    const el = (n2.el = n1.el);\r\n\r\n    const oldProps = n1.props || {};\r\n    const newProps = n2.props || {};\r\n\r\n    // \u66F4\u65B0 props\r\n    patchProps(el, oldProps, newProps);\r\n\r\n    // \u66F4\u65B0 children\r\n    patchChildren(n1, n2, el, null, parentComponent);\r\n  };\r\n\r\n  const patchComponent = (n1, n2) => {\r\n    // \u590D\u7528\u5B9E\u4F8B\r\n    const instance = (n2.component = n1.component);\r\n\r\n    if (shouldUpdateComponent(n1, n2)) {\r\n      instance.next = n2;\r\n      instance.update();\r\n    } else {\r\n      n2.el = n1.el;\r\n      instance.vnode = n2;\r\n    }\r\n  };\r\n\r\n  const processComment = (n1, n2, container) => {\r\n    if (n1 == null) {\r\n      // \u6302\u8F7D\uFF1A\u521B\u5EFA\u6CE8\u91CA\u8282\u70B9\r\n      const el = (n2.el = hostCreateComment(n2.children || \"\"));\r\n      hostInsert(el, container);\r\n    } else {\r\n      // \u6CE8\u91CA\u8282\u70B9\u4E0D\u9700\u8981\u66F4\u65B0\u5185\u5BB9\uFF0C\u53EA\u590D\u7528 DOM\r\n      n2.el = n1.el;\r\n    }\r\n  };\r\n\r\n  const processText = (n1, n2, container) => {\r\n    if (n1 == null) {\r\n      // \u6302\u8F7D\uFF1A\u521B\u5EFA\u6587\u672C\u8282\u70B9\r\n      const el = (n2.el = hostCreateText(n2.children));\r\n      hostInsert(el, container);\r\n    } else {\r\n      const el = (n2.el = n1.el);\r\n      if (n1.children !== n2.children) {\r\n        hostSetText(el, n2.children);\r\n      }\r\n    }\r\n  };\r\n\r\n  const processFragment = (\r\n    n1,\r\n    n2,\r\n    container,\r\n    anchor = null,\r\n    parentComponent = null\r\n  ) => {\r\n    if (n1 == null) {\r\n      // \u521B\u5EFA\u7ED3\u675F\u951A\u70B9\r\n      const fragmentEndAnchor = hostCreateComment(\"fragment end\");\r\n\r\n      // \u6302\u8F7D\uFF1A\u76F4\u63A5\u6302\u8F7D children\uFF08\u5728\u951A\u70B9\u4E4B\u524D\uFF09\r\n      hostInsert(fragmentEndAnchor, container, anchor);\r\n      mountChildren(n2.children, container, fragmentEndAnchor, parentComponent);\r\n\r\n      // \u8BBE\u7F6E el \u548C anchor\r\n      n2.el = n2.children.length > 0 ? n2.children[0].el : fragmentEndAnchor;\r\n      n2.anchor = fragmentEndAnchor;\r\n    } else {\r\n      // \u7EE7\u627F\u951A\u70B9\r\n      n2.el = n1.el;\r\n      n2.anchor = n1.anchor;\r\n\r\n      // \u66F4\u65B0\uFF1Adiff children\r\n      patchChildren(n1, n2, container, n2.anchor, parentComponent);\r\n    }\r\n  };\r\n\r\n  const processElement = (\r\n    n1,\r\n    n2,\r\n    container,\r\n    anchor = null,\r\n    parentComponent = null\r\n  ) => {\r\n    if (n1 == null) {\r\n      // \u521D\u59CB\u6302\u8F7D\u64CD\u4F5C\r\n      mountElement(n2, container, anchor, parentComponent);\r\n    } else {\r\n      // \u66F4\u65B0 \u540C\u7C7B\u578B\u5143\u7D20\r\n      patchElement(n1, n2, parentComponent);\r\n    }\r\n  };\r\n\r\n  const processComponent = (\r\n    n1,\r\n    n2,\r\n    container,\r\n    anchor = null,\r\n    parentComponent = null\r\n  ) => {\r\n    if (n1 == null) {\r\n      // \u68C0\u67E5\u662F\u5426\u4ECE KeepAlive \u4E2D\u6FC0\u6D3B\r\n      if (n2.shapeFlag & ShapeFlags.COMPONENT_KEPT_ALIVE) {\r\n        // \u4ECE\u7F13\u5B58\u6FC0\u6D3B\uFF0C\u4E0D\u9700\u8981\u91CD\u65B0\u6302\u8F7D\r\n        const parent = parentComponent;\r\n        // \u627E\u5230 KeepAlive \u5B9E\u4F8B\r\n        parent.ctx.activate(n2, container, anchor);\r\n      } else {\r\n        mountComponent(n2, container, anchor, parentComponent);\r\n      }\r\n    } else {\r\n      patchComponent(n1, n2);\r\n    }\r\n  };\r\n\r\n  // \u6E32\u67D3\u548C\u66F4\u65B0\r\n  // | \u53C2\u6570      | \u542B\u4E49                 | \u7C7B\u578B         |\r\n  // |-----------|----------------------|--------------|\r\n  // | n1        | \u65E7\u7684 vnode\uFF08\u66F4\u65B0\u524D\uFF09 | VNode | null |\r\n  // | n2        | \u65B0\u7684 vnode\uFF08\u66F4\u65B0\u540E\uFF09 | VNode        |\r\n  // | container | \u7236\u7EA7 DOM \u5BB9\u5668        | HTMLElement  |\r\n  const patch = (n1, n2, container, anchor = null, parentComponent = null) => {\r\n    // 1.\u76F8\u540C\u865A\u62DF\u8282\u70B9\u4E0D\u9700\u8981\u66F4\u65B0\r\n    if (n1 === n2) {\r\n      return;\r\n    }\r\n\r\n    // 2.\u4E0D\u540C\u865A\u62DF\u8282\u70B9\uFF0C\u76F4\u63A5\u5378\u8F7D\u65E7\u8282\u70B9\uFF0C\u5E76\u8D70\u540E\u7EED\u7684\u6302\u5728\u6D41\u7A0B\r\n    if (n1 && !isSameVnode(n1, n2)) {\r\n      unmount(n1);\r\n      n1 = null;\r\n    }\r\n\r\n    // 3.\u6839\u636E\u8282\u70B9\u7C7B\u578B\u5206\u53D1\u5904\u7406 n1\u3001n2\u7C7B\u578B\u76F8\u540C\r\n    const { type, shapeFlag } = n2;\r\n    switch (type) {\r\n      case Text:\r\n        processText(n1, n2, container);\r\n        break;\r\n      case Comment:\r\n        processComment(n1, n2, container);\r\n        break;\r\n      case Fragment:\r\n        // h(Fragment, null, [h('p', 'A'), h('p', 'B')]) -> <p>A</p><p>B</p> \u2190 \u6CA1\u6709\u5916\u5C42\u5305\u88F9\r\n        processFragment(n1, n2, container, anchor, parentComponent);\r\n        break;\r\n      default:\r\n        if (shapeFlag & ShapeFlags.ELEMENT) {\r\n          // \u5904\u7406\u5143\u7D20\r\n          processElement(n1, n2, container, anchor, parentComponent);\r\n        } else if (shapeFlag & ShapeFlags.COMPONENT) {\r\n          // \u5904\u7406\u7EC4\u4EF6 \u51FD\u6570\u5F0F\u7EC4\u4EF6\uFF08\u517C\u5BB9Vue2\uFF09\u548C\u72B6\u6001\u7EC4\u4EF6\r\n          processComponent(n1, n2, container, anchor, parentComponent);\r\n        } else if (shapeFlag & ShapeFlags.TELEPORT) {\r\n          // \u5904\u7406 Teleport\r\n          TeleportImpl.process(n1, n2, container, anchor, parentComponent, {\r\n            mountChildren,\r\n            patchChildren,\r\n            unmountChildren,\r\n            move: hostInsert,\r\n            hostInsert,\r\n            hostCreateComment,\r\n            querySelector,\r\n          });\r\n        } else if (shapeFlag & ShapeFlags.SUSPENSE) {\r\n          SuspenseImpl.process(n1, n2, container, anchor, parentComponent, {\r\n            patch,\r\n            mountChildren,\r\n            patchChildren,\r\n            unmount,\r\n            unmountChildren,\r\n            move: (el, container, anchor) => hostInsert(el, container, anchor),\r\n            hostInsert,\r\n            hostRemove,\r\n            hostCreateElement,\r\n            hostCreateComment,\r\n            querySelector,\r\n          });\r\n        }\r\n    }\r\n  };\r\n\r\n  // \u5378\u8F7D\r\n  const unmount = (vnode) => {\r\n    if (!vnode || !vnode.el) return;\r\n\r\n    const { type, children, shapeFlag } = vnode;\r\n\r\n    // \u5904\u7406 Suspense\r\n    if (shapeFlag & ShapeFlags.SUSPENSE) {\r\n      SuspenseImpl.remove(vnode, { unmount, unmountChildren, hostRemove });\r\n      return;\r\n    }\r\n\r\n    // \u5904\u7406 Teleport\r\n    if (shapeFlag & ShapeFlags.TELEPORT) {\r\n      TeleportImpl.remove(vnode, { unmountChildren, hostRemove });\r\n      return;\r\n    }\r\n\r\n    // \u5904\u7406\u7EC4\u4EF6\r\n    if (shapeFlag & ShapeFlags.COMPONENT) {\r\n      // \u68C0\u67E5\u662F\u5426\u5E94\u8BE5\u7F13\u5B58\r\n      if (shapeFlag & ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE) {\r\n        // \u505C\u7528\u800C\u4E0D\u662F\u5378\u8F7D\uFF0C\u627E\u5230\u7236\u7EA7 KeepAlive\r\n        const parent = vnode.component.parent;\r\n        parent.ctx.deactivate(vnode);\r\n        return;\r\n      }\r\n      unmountComponent(vnode.component);\r\n      return;\r\n    }\r\n\r\n    // Fragment \u9700\u8981\u5378\u8F7D\u6240\u6709 children\r\n    if (type === Fragment) {\r\n      unmountChildren(children);\r\n      if (vnode.anchor) {\r\n        hostRemove(vnode.anchor);\r\n      }\r\n      return;\r\n    }\r\n\r\n    // \u666E\u901A\u5143\u7D20\u76F4\u63A5\u79FB\u9664\r\n    hostRemove(vnode.el);\r\n  };\r\n\r\n  // \u7EC4\u4EF6\u5378\u8F7D\u51FD\u6570\r\n  const unmountComponent = (instance) => {\r\n    instance.isUnmounted = true;\r\n\r\n    // beforeUnmount\r\n    if (instance.bum) {\r\n      invokeArrayFns(instance.bum);\r\n    }\r\n\r\n    // \u5378\u8F7D\u5B50\u6811\r\n    unmount(instance.subTree);\r\n\r\n    // unmounted\uFF08\u5F02\u6B65\uFF09\r\n    if (instance.um) {\r\n      queuePostFlushCb(() => invokeArrayFns(instance.um));\r\n    }\r\n  };\r\n\r\n  const unmountChildren = (children) => {\r\n    for (let i = 0; i < children.length; i++) {\r\n      unmount(children[i]);\r\n    }\r\n  };\r\n\r\n  const render = (vnode, container) => {\r\n    if (vnode == null) {\r\n      if (container._vnode) {\r\n        unmount(container._vnode);\r\n      }\r\n      container._vnode = null;\r\n      return;\r\n    }\r\n    // \u5C06\u865A\u62DF\u8282\u70B9\u53D8\u6210\u771F\u5B9E\u8282\u70B9\u8FDB\u884C\u6E32\u67D3\r\n    patch(container._vnode || null, vnode, container);\r\n    container._vnode = vnode;\r\n  };\r\n\r\n  return {\r\n    render,\r\n  };\r\n}\r\n", "/**\n * \u5229\u7528 currentInstance \u5168\u5C40\u53D8\u91CF\uFF0C\u8BA9 onXxx() \u77E5\u9053\u8981\u628A\u94A9\u5B50\u6302\u5230\u54EA\u4E2A\u7EC4\u4EF6\u5B9E\u4F8B\u4E0A\n * \n * \u6CE8\u518C\u6D41\u7A0B\uFF1A\n    1. setup() \u6267\u884C\u524D\uFF0C\u8C03\u7528 setCurrentInstance(instance) \u8BBE\u7F6E\u5F53\u524D\u5B9E\u4F8B\n    2. setup() \u5185\u90E8\u8C03\u7528 onMounted(fn) \u65F6\uFF0C\u901A\u8FC7 getCurrentInstance() \u62FF\u5230\u5F53\u524D\u5B9E\u4F8B\n    3. \u628A fn \u63A8\u5165 instance.m \u6570\u7EC4\uFF08m = mounted \u7684\u7F29\u5199\uFF09\n    4. setup() \u6267\u884C\u5B8C\uFF0C\u8C03\u7528 unsetCurrentInstance() \u6E05\u7A7A\n *\n * \u4E3A\u4EC0\u4E48\u7528\u6570\u7EC4\uFF1A\u540C\u4E00\u4E2A\u7EC4\u4EF6\u5185\u53EF\u80FD\u8C03\u7528\u591A\u6B21 onMounted()\uFF0C\u6BD4\u5982\u4E0D\u540C\u7684 composable \u90FD\u6CE8\u518C\u4E86 mounted \u94A9\u5B50\n */\n\nimport {\n  currentInstance,\n  setCurrentInstance,\n  unsetCurrentInstance,\n} from \"./component\";\nimport { LifecycleHooks } from \"./enums\";\n\n/**\n * \u521B\u5EFA\u751F\u547D\u5468\u671F\u94A9\u5B50\u6CE8\u518C\u51FD\u6570\u7684\u5DE5\u5382\n * @param lifecycle - \u94A9\u5B50\u7C7B\u578B\uFF0C\u5BF9\u5E94 instance \u4E0A\u7684\u5C5E\u6027\u540D\n */\nfunction createHook(lifecycle) {\n  // \u8FD4\u56DE\u7684\u51FD\u6570\u5C31\u662F onMounted\u3001onBeforeMount \u7B49\n  return (hook, target = currentInstance) => {\n    if (target) {\n      const hooks = target[lifecycle] || (target[lifecycle] = []);\n\n      // \u5305\u88C5 hook\uFF0C\u6267\u884C\u65F6\u81EA\u52A8\u8BBE\u7F6E currentInstance\n      // \u8FD9\u6837\u94A9\u5B50\u5185\u90E8\u8C03\u7528 getCurrentInstance() \u4E5F\u80FD\u62FF\u5230\u6B63\u786E\u7684\u5B9E\u4F8B\n      const wrappedHook = () => {\n        // \u6267\u884C\u94A9\u5B50\u65F6\u4E5F\u8BBE\u7F6E currentInstance\n        setCurrentInstance(target);\n        try {\n          hook.call(target.proxy);\n        } finally {\n          unsetCurrentInstance();\n        }\n      };\n\n      hooks.push(wrappedHook);\n    } else {\n      console.warn(`${lifecycle} \u94A9\u5B50\u53EA\u80FD\u5728 setup() \u4E2D\u8C03\u7528`);\n    }\n  };\n}\n\nexport const onBeforeMount = createHook(LifecycleHooks.BEFORE_MOUNT);\nexport const onMounted = createHook(LifecycleHooks.MOUNTED);\nexport const onBeforeUpdate = createHook(LifecycleHooks.BEFORE_UPDATE);\nexport const onUpdated = createHook(LifecycleHooks.UPDATED);\nexport const onBeforeUnmount = createHook(LifecycleHooks.BEFORE_UNMOUNT);\nexport const onUnmounted = createHook(LifecycleHooks.UNMOUNTED);\nexport const onActivated = createHook(LifecycleHooks.ACTIVATED);\nexport const onDeactivated = createHook(LifecycleHooks.DEACTIVATED);\n", "import { isFunction } from \"@vue/shared\";\nimport { currentInstance } from \"./component\";\n\n/**\n * provide - \u5411\u540E\u4EE3\u7EC4\u4EF6\u63D0\u4F9B\u6570\u636E\n */\nexport function provide(key, value) {\n  if (!currentInstance) {\n    console.warn(\"provide() \u53EA\u80FD\u5728 setup() \u4E2D\u8C03\u7528\");\n    return;\n  }\n\n  let provides = currentInstance.provides;\n  const parentProvides = currentInstance.parent?.provides;\n\n  // \u9996\u6B21 provide \u65F6\uFF0C\u521B\u5EFA\u65B0\u5BF9\u8C61\u7EE7\u627F\u7236\u7EA7\uFF0C\u907F\u514D\u6C61\u67D3\u7236\u7EC4\u4EF6\n  if (provides === parentProvides) {\n    provides = currentInstance.provides = Object.create(parentProvides);\n  }\n\n  provides[key] = value;\n}\n\n/**\n * inject - \u6CE8\u5165\u7956\u5148\u7EC4\u4EF6\u63D0\u4F9B\u7684\u6570\u636E\n */\nexport function inject(key, defaultValue, treatDefaultAsFactory = false) {\n  const instance = currentInstance;\n\n  if (!instance) {\n    console.warn(\"inject() \u53EA\u80FD\u5728 setup() \u4E2D\u8C03\u7528\");\n    return;\n  }\n\n  // \u4ECE\u7236\u7EC4\u4EF6\u7684 provides \u5F00\u59CB\u67E5\u627E\uFF0C\u800C\u975E\u81EA\u5DF1\u7684\n  const provides = instance.parent?.provides;\n\n  if (provides && key in provides) {\n    return provides[key];\n  }\n\n  // \u6CA1\u627E\u5230\uFF0C\u8FD4\u56DE\u9ED8\u8BA4\u503C\n  if (arguments.length > 1) {\n    return treatDefaultAsFactory && isFunction(defaultValue)\n      ? defaultValue.call(instance && instance.proxy)\n      : defaultValue;\n  }\n\n  console.warn(`inject \"${String(key)}\" \u672A\u627E\u5230`);\n}\n", "import { isFunction } from \"@vue/shared\";\nimport { createVNode, Fragment } from \"../vnode\";\n\n/**\n * \u6E32\u67D3\u63D2\u69FD\u5185\u5BB9\n * @param slots - \u7EC4\u4EF6\u5B9E\u4F8B\u7684 $slots \u5BF9\u8C61\n * @param name - \u63D2\u69FD\u540D\u79F0\n * @param props - \u4F20\u9012\u7ED9\u4F5C\u7528\u57DF\u63D2\u69FD\u7684\u6570\u636E\n * @param fallback - \u9ED8\u8BA4\u5185\u5BB9\uFF08\u5F53\u63D2\u69FD\u672A\u63D0\u4F9B\u65F6\u4F7F\u7528\uFF09\n *\n */\nexport function renderSlot(slots, name, props: any = {}, fallback?) {\n  // \u53D6\u51FA\u5BF9\u5E94\u7684\u63D2\u69FD\u51FD\u6570\n  const slot = slots[name];\n\n  let children;\n\n  if (slot) {\n    // \u63D2\u69FD\u5B58\u5728\n    if (isFunction(slot)) {\n      // \u4F5C\u7528\u57DF\u63D2\u69FD\uFF1A\u4F20\u5165 props\n      children = slot(props);\n    } else {\n      // \u517C\u5BB9\u975E\u51FD\u6570\u60C5\u51B5\uFF08\u7406\u8BBA\u4E0A\u4E0D\u5E94\u8BE5\u51FA\u73B0\uFF09\n      children = slot;\n    }\n  } else if (fallback) {\n    // \u63D2\u69FD\u4E0D\u5B58\u5728\uFF0C\u4F7F\u7528\u9ED8\u8BA4\u5185\u5BB9\n    children = fallback();\n  }\n\n  // \u7528 Fragment \u5305\u88F9\uFF0C\u56E0\u4E3A\u63D2\u69FD\u53EF\u80FD\u8FD4\u56DE\u591A\u4E2A\u6839\u8282\u70B9\n  // \u6BD4\u5982 <template #default><span>A</span><span>B</span></template>\n  return createVNode(Fragment, { key: props.key }, children);\n}\n", "import { nodeOps } from \"./nodeOps\";\r\nimport patchProp from \"./patchProp\";\r\nimport { createRenderer } from \"@vue/runtime-core\";\r\n\r\nconst renderOptions = Object.assign({ patchProp }, nodeOps);\r\n\r\n// \u91C7\u7528 DOM API \u8FDB\u884C\u6E32\u67D3\r\nexport const render = (vnode, container) => {\r\n  return createRenderer(renderOptions).render(vnode, container);\r\n};\r\n\r\nexport { renderOptions };\r\nexport * from \"@vue/runtime-core\";\r\n"],
  "mappings": "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",
  "names": ["effect", "isShallow", "isReadonly", "isShallow", "isReadonly", "ref", "source", "effect", "move", "move", "type", "move", "instance", "renderOptions", "vnode", "container", "anchor", "render", "effect", "i"]
}
